(self["webpackChunk_canva_web"] = self["webpackChunk_canva_web"] || []).push([[50954],{

/***/ 833837:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);self._5f74ec40302898c5a55451c9fbd04240 = self._5f74ec40302898c5a55451c9fbd04240 || {};(function(__c) {var $kc=function(a){Object.keys(a).forEach(b=>a[b]==null&&delete a[b])},alc=function(a){if(a instanceof __c.C8a){const b=[];a.values.forEach(c=>{b.push(alc(c))});return b}if(a instanceof __c.E8a){const b={};a.values.forEach(c=>{b[c.name]=alc(c.value)});return b}return a.value},blc=function(a){var b=a.message?a.message:a.exception?.values?.[0]?.value?a.exception.values[0].value:void 0;if(b&&b.match(/HTTP (forbidden|not found) on: (.*)/)&&(b=b.match(/HTTP (forbidden|not found) on: ([^?#]*)/))){const [,
c,d]=b;b=d.replace(/\/[A-Za-z0-9_-]{20,}/g,"/<ID>").replace(/\/\d+/g,"/<NUM>").replace(/\/[a-zA-Z0-9_-]{10,19}/g,"/<ID>");a.fingerprint=[`http-${c==="forbidden"?"403":"404"}`,b];a.tags==null&&(a.tags={});a.tags["fingerprinting.http_error"]="true";a.tags["fingerprinting.http_error.endpoint"]=b}},clc=function(a,b){return{...b,frames:b?.frames?.map(c=>{for(const [d,e]of Object.entries(a.Tna))c.module=c.module?.replace(e,d),c.abs_path=c.abs_path?.replace(e,d),c.filename=c.filename?.replace(e,d);return c})}},
dlc=function(a,b){b.exception&&b.exception.values&&(b.exception={...b.exception,values:b.exception?.values?.map(c=>({...c,...(c.stacktrace&&{stacktrace:clc(a,c.stacktrace)})}))})},elc=function(a,b){var c=b.request;c!=null&&c.url!=null&&(c.url=a.T_(c.url));dlc(a,b);b.tags!=null&&a.KHa(b.tags)},flc=function(a){if(a instanceof __c.cT)return a;if(a&&typeof a==="object"&&"cause"in a)return flc(a.cause)},hlc=function(a,b){if(a?.message!==b?.message)return!1;a=a.exception?.values;b=b.exception?.values;if(a==
null||b==null||a.length!==b.length)return!1;for(let c=0;c<a.length;c++)if(a[c].value!==b[c].value||a[c].type!==b[c].type||!glc(a[c].stacktrace,b[c].stacktrace))return!1;return!0},glc=function(a,b){a=a?.frames;b=b?.frames;if(a==null&&b==null)return!0;if(a==null||b==null||a.length!==b.length)return!1;for(let c=0;c<a.length;c++)if(a[c].filename!==b[c].filename||a[c].colno!==b[c].colno||a[c].lineno!==b[c].lineno)return!1;return!0},ilc=function(a,b){const c=a.history.find(f=>hlc(f.event,b));if(c==null)return!1;
const d=__c.rs.now(),e=c.timestamp;return hlc(b,c.event)&&d-e<a.sLb},klc=function(a){return a({iteratee:b=>jlc({frame:b,UJb:"/dist/renderer/"})})},jlc=function({frame:a,UJb:b}){if(a.filename==null)return a;const c=a.filename.replace(/\\/g,"/").split(b);if(c.length<=1)return a;a.filename="app://"+b+c.pop();return a},llc=function(a,b){try{const c=new URL(b,`${a.location.protocol}//${a.location.host}`);if(!["http:","https:"].includes(c.protocol))return"";a.xjb.some(d=>c.hostname.includes(d))&&c.pathname.startsWith("/_ajax")||
(c.pathname="");c.search="";return b.includes(c.host)?c.toString():c.pathname||"/"}catch(c){return""}},nlc=function(a){const b=[];for(const c of mlc){const d=c(a);d&&b.push(d)}return b},olc=function(){const a=self;if(typeof a.Android==="object"&&typeof a.Android.getPageLocation==="function"){let b;try{b=a.Android.getPageLocation()}catch(c){return}return typeof b==="string"?b:void 0}},plc=function(a,b){a!=null&&typeof a!=="string"&&a instanceof __c.cT&&a.requestId!=null&&b("requestId",a.requestId)},
rlc=function(a){return(b,c)=>{b.request&&(b.request=a.BHa(b.request));if(qlc(a,b))return null;plc(c?.originalException,(e,f)=>{b.tags==null&&(b.tags={});b.tags[e]=f});if(a.Sa){b.tags==null&&(b.tags={});a:switch(a.Sa.status){case 2:var d="OFFLINE";break a;case 1:d="ONLINE";break a;default:d="UNKNOWN"}b.tags.offlineStatus=d}__c.uc("2ba72277",!1)&&blc(b);try{elc(a.zfa,b)}catch(e){a.Lb(e)}return a.Tta.reduce((e,f)=>f(e,c),b)}},tlc=function(a,b,c){var d=a.Bk?.getCurrentHub().getClient();d=d&&d.getOptions()||
{};var e=b.sampleRate??1;e=[new o3,new p3(2E3),new __c.aJ(e,b.UBb??e),new q3,new r3,new s3(a.allowUrls,location)];a.Bk&&(e.push(a.Bk.dedupeIntegration()),e.push(a.Bk.extraErrorDataIntegration()),e.push(klc(a.Bk.rewriteFramesIntegration)));a.setTags(a.bootstrap.tags);a.setExtras(a.bootstrap.extra);var f=typeof navigator!=="undefined"?navigator.userAgent:void 0;f&&(f=nlc(f),a.setTags(f));b=b.PEb;b!==1&&a.setTag("webx",String(b===3));a.setTag("iframe",String(typeof window!=="undefined"&&window.self!==
window.top));c.M5a&&a.setTag("webview",c.M5a);d.beforeSend=rlc(a);c={...d,maxValueLength:1024,dsn:d.dsn||a.bootstrap.dsn,environment:d.environment||a.bootstrap.environment,release:d.release||a.bootstrap.release,tracesSampleRate:0,sampleRate:1,integrations:e,allowUrls:a.allowUrls,transport:a.Bk?.makeBrowserOfflineTransport(a.Bk.makeFetchTransport),transportOptions:{flushAtStartup:!0},autoSessionTracking:!1,ignoreErrors:slc};$kc(c);a.Bk?.init(c);a.Bk?.configureScope(g=>{g.setUser({id:__c.Yq()});g.setTag("isAnonymousUser",
!0);g.setTag("initLocation","error_client")})},qlc=function(a,b){const c=b.exception&&b.exception.values&&b.exception.values.length>0&&b.exception.values[0],d=c&&c.stacktrace||void 0,e=d&&d.frames&&d.frames[0]&&d.frames[0].filename,f=b.message||c&&c.value||void 0;return a.lha.some(g=>g({message:f,filename:e,location,tags:b.tags,event:b}))},ulc=function(a,b){b instanceof Error?a.Bk?.captureException(b):a.Bk?.captureMessage(b)},vlc=function(a,b,c){if(b==null)return Error((c?c+" ":"")+"[null error thrown]");
if(typeof b==="object"){let d;d=b instanceof __c.zc?new __c.zc(b.message,b.sampleRate):b instanceof __c.cT?b:Error(b.message);b.stack&&(d.stack=b.stack);b.cause&&(d.cause=b.cause);if(c){if(b.message?.startsWith(c))return a.setTag("prefixCollision","true"),b;a=c+" "+(d.message||"[no message on error]");try{d.message=a}catch(e){if(e instanceof TypeError)return Error(a);throw e;}}return d}return b.toString()},t3=function(a,b,c,d){a.Bk==null?(console.error(c),d&&console.log("errorParams",d)):a.Bk&&a.Bk.withScope(e=>
{typeof d==="string"&&(d={Oe:d});c=vlc(e,c,typeof d==="string"?d:d?.Oe);d!=null&&(d.fingerprint&&e.setFingerprint(d.fingerprint),d.pqa&&e.setTag("userFlow",d.pqa),d.extra&&d.extra.forEach((f,g)=>e.setExtra(g,f)),d.tags&&d.tags.forEach((f,g)=>e.setTag(g,f)));a.componentStack.length>0&&e.setTag("component",a.componentStack.join("."));e.setLevel(b);ulc(a,c)})};var wlc=class{};var xlc=class{T_(a){let b=a;Object.entries(this.Tna).forEach(([c,d])=>{b=b.split(d).join(c)});return b}KHa(a={}){Object.keys(a).forEach(b=>{const c=a[b];typeof c==="string"&&(a[b]=this.T_(c))})}constructor(){this.Tna={}}};var q3=class{setupOnce(a,b){a(c=>{b().getIntegration(q3);return c})}constructor(){this.name=q3.id}};q3.id="HostRpcServiceErrors";var r3=class{setupOnce(a,b){a((c,d)=>{if(!b().getIntegration(r3)||!d)return c;if(d=flc(d.originalException))c.tags||(c.tags={}),Object.assign(c.tags,{http_service_error:!0,statusCode:d.statusCode,...(d.requestId?{requestId:d.requestId}:{})}),d.requestUrl&&(c.tags.phase=d.requestUrl.includes("/csrf3/")?"csrf":"request");return c})}constructor(){this.name=r3.id}};r3.id="HttpServiceErrors";var ylc=class{add(a){this.v4=this.Rtb(this.v4);this.list[this.v4]=a}find(a){let b=this.v4;do{if(this.list[b]&&a(this.list[b]))return this.list[b];b=this.cub(b)}while(b!==this.v4)}constructor(){this.Kua=10;this.v4=0;this.Rtb=a=>(a+1)%this.Kua;this.cub=a=>(a+this.Kua-1)%this.Kua;this.list=Array(10)}},p3=class{setupOnce(a,b){a(c=>{const d=b().getIntegration(p3);d&&(ilc(d,c)?c=null:d.history.add({event:c,timestamp:__c.rs.now()}));return c})}constructor(a){this.sLb=a;this.name=p3.id;this.history=new ylc}};
p3.id="NoSuccessiveEvent";var o3=class{setupOnce(a,b){a(c=>{if(!b().getIntegration(o3))return c;c.tags=c.tags??{};c.tags["prior.unhandled.error.count"]=this.a8a;c.exception?.values?.some(d=>d.mechanism?.handled===!1)&&this.a8a++;return c})}constructor(){this.name=o3.id;this.a8a=0}};o3.id="PriorUnhandledErrorCountIntegration";var s3=class{setupOnce(a,b){a(c=>{const d=b().getIntegration(s3);return d?d.processEvent(c):c})}processEvent(a){a?.breadcrumbs?.map((b,c)=>{if(a?.breadcrumbs){var d=a.breadcrumbs;b.type==="http"&&(b.data=b.data||{},b.data.url=llc(this,b.data?.url??""));d[c]=b}});a.request&&(a.request=this.BHa(a.request));return a}BHa(a){const b=a?.url?llc(this,a?.url):void 0,c={};a?.headers?.["User-Agent"]&&(c["User-Agent"]=a?.headers["User-Agent"]);a?.headers?.Referer&&(c.Referer=llc(this,a?.headers?.Referer));return{url:b,
headers:c}}constructor(a,b){this.xjb=a;this.location=b;this.name=s3.id}};s3.id="UrlScrubber";var mlc=[function(a){if(a=/canvaeditor\/(\d+\.\d+\.\d+)/.exec(a))return{name:"mobile_app_version",value:a[1]}},function(a){if(a=/com.canva.editor\s\(version\/(\d+\.\d+\.\d+)/.exec(a))return{name:"mobile_app_version",value:a[1]}}];var slc;
slc=["TimeoutError","HttpTimeoutError",/^ResizeObserver loop/,/^WHEN_CANCELLED$/,"ChunkLoadError",/^NetworkError: Failed to execute 'importScripts' on 'WorkerGlobalScope':/,/Failed to register a ServiceWorker.*(The document is in an invalid state|An unknown error occurred when fetching the script|Failed to access storage|The URL protocol of the current origin \('null'\) is not supported|Timed out while trying to start the Service Worker)\.$/,/^(Can't find variable: indexedDB|Internal error opening backing store for indexedDB.open.|Encountered full disk while opening backing store for indexedDB.open.|An internal error was encountered in the Indexed Database server)/,/Non-Error promise rejection captured with value: [Tt]imeout( \(.\))?/,
/.*\[ExecError:METHOD_EXECUTION_ERROR:requestV2\].*www\.canva\.com.*/,"variable: _AutofillCallbackHandler","_AutofillCallbackHandler is not defined","Non-Error promise rejection captured with value: Object Not Found Matching Id","Event `CustomEvent` (type=unhandledrejection) captured as promise rejection"];
__c.Wba=class{BHa(a){if(!a.url)return{headers:{"User-Agent":a?.headers?.["User-Agent"]??""}};const b=/^(\/design\/[a-zA-Z0-9_-]+\/)([a-zA-Z0-9_-]{22})(.*)/,c=new URL(a.url);c.search="";b.test(c.pathname)&&(c.pathname=c.pathname.replace(b,"$1<REDACTED>$3"));return{url:c.toString(),headers:{"User-Agent":a?.headers?.["User-Agent"]??""}}}fda(a){this.Tta.push(a)}Vf(a){return new __c.Wba(this.bootstrap,this.componentStack.concat(a),this.lha,this.Bk,this.zfa,this.Tta,!0,this.Sa,this.bBa,void 0,this.kob)}setContext({user:a,
locale:b,Erb:c}){this.Bk?.getCurrentHub()?.configureScope(d=>{a&&(d.setUser(a),d.setTag("isAnonymousUser",!1));b&&d.setTag("locale",b);c?.forEach((e,f)=>d.setExtra(f,e))})}setTags(a){for(const b of a)this.setTag(b.name,b.value)}setTag(a,b){if(this.Bk!=null){{var c=a.length<=32;const d=b.length<=200;c&&d?c=(0,__c.za)(!0):(c=(c?"":"Key name length cannot exceed 32 characters.\n")+(d?"":"Key value length cannot exceed 200 characters.\n"),c=(0,__c.Aa)(Error(c+`Tag: ${a}:${b}`)))}c.ok?this.Bk.setTag(a,
b):ulc(this,c.error)}}setExtras(a){for(const b of a)this.setExtra(b.name,b.value)}setExtra(a,b){this.Bk!=null&&this.Bk.setExtra(a,alc(b))}G2(a){this.Bk!=null&&this.Bk?.addBreadcrumb({...a,level:a.level})}pfa(a,b){t3(this,"fatal",a instanceof Error?a:Error(a),b)}oQ(a,b){t3(this,"fatal",a,b)}error(a,b){t3(this,"error",a instanceof Error?a:Error(a),b)}Lb(a,b){t3(this,"error",a,b)}SJ(a,b){t3(this,"warning",a instanceof Error?a:Error(a),b)}TJ(a,b){t3(this,"warning",a,b)}info(a,b){t3(this,"info",a instanceof
Error?a:Error(a),b)}debug(a,b){t3(this,"debug",a instanceof Error?a:Error(a),b)}constructor(a,b=[],c=[],d=self.Sentry,e=new xlc,f=[],g=!1,h,k,l=olc(),m=new wlc){this.bootstrap=a;this.componentStack=b;this.lha=c;this.Bk=d;this.zfa=e;this.Tta=f;this.Sa=h;this.bBa=k;this.kob=m;this.allowUrls="/dist/renderer/ canva.com canva.cn canva-dev.com canva-staging.com canva-staging.cn www.features.canva-internal.com www.features.canva-internal-staging.com canva-apps.com canva-apps.cn canva-apps-dev.com canva-apps-staging.com canva-apps-staging.cn affinity-dev.studio affinity-staging.studio affinity.studio".split(" ");
this.Bk?g||tlc(this,a,{M5a:l}):typeof self.suppressSentryInitializationError!=="undefined"&&self.suppressSentryInitializationError===!0||console.error("Sentry can not be found on the global scope.")}};
}).call(self, self._5f74ec40302898c5a55451c9fbd04240);}

}])
//# sourceMappingURL=sourcemaps/efe35460679acc4e.js.map