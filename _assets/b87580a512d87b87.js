(self["webpackChunk_canva_web"] = self["webpackChunk_canva_web"] || []).push([[6712],{

/***/ 152531:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);self._5f74ec40302898c5a55451c9fbd04240 = self._5f74ec40302898c5a55451c9fbd04240 || {};(function(__c) {var T_;var c1;var M=__c.M;var Ma=__c.Ma;var DI=__c.DI;var W=__c.W;var X=__c.X;var H=__c.H;var rD=__c.rD;var zd=__c.zd;var Sc=__c.Sc;var le=__c.le;var E=__c.E;var u=__c.u;var Aa=__c.Aa;var y=__c.y;
var z$b,A$b,B$b,D$b,F$b,E$b,H$b,K$b,J$b,E_,O$b,T$b,W$b,Z$b,bac,fac,F_,iac,kac,nac,pac,qac,J_,sac,L_,M_,tac,N_,uac,O_,vac,P_,Q_,R_,wac,S_,xac,zac,Aac,Bac,Fac,Hac,Eac,Gac,Cac,Dac,Iac,Jac,Kac,Lac,Mac,Oac,Uac,$ac,ibc,jbc,kbc,lbc,l0,m0,n0,nbc,obc,pbc,o0,sbc,qbc,q0,s0,r0,tbc,t0,vbc,xbc,ybc,Abc,w0,Bbc,Nbc,Obc,Pbc,Qbc,B0,Cbc,x0,Hbc,Kbc,Mbc,z0,Jbc,Rbc,zbc,Tbc,Ubc,Vbc,Sbc,Ybc,Zbc,D0,mcc,jcc,hcc,F0,$bc,ccc,bcc,icc,acc,ncc,gcc,ecc,dcc,E0,G0,qcc,rcc,scc,ucc,tcc,wcc,J0,Bcc,Ecc,Dcc,Vac,Gcc,cbc,dbc,Icc,Jcc,Kcc,P0,
Lcc,Occ,R0,S0,T0,Pac,Qcc,Ucc,Wcc,Vcc,Ycc,Xcc,Zcc,$cc,adc,edc,fdc,hdc,idc,jdc,kdc;z$b=async function(a,b){const c=await __c.Th(a.Zx,{method:"GET",url:y(b.url)});return(0,__c.$b)(()=>__c.Rra(a,b,c.body))};A$b=function(a,b){b=a.$j.get(__c.Wq(b));return b!=null?a.n3.get(b):void 0};B$b=function(a,b){const c=a.vpb;if(c==null)throw Error("Blueprint document resources are not supported");a.eca(b,async()=>{const d=await c.Fq(b),e=(0,__c.$b)(()=>__c.Sra(a,d)),f=a.n3.get(e)??await z$b(a,e);return{...e,element:f}})};
__c.B_=function(a){return{type:1,Component:a}};__c.C_=function(){return a=>a};D$b=function(a){a.Yd=setTimeout(()=>{a.L7a(new C$b)},500)};
F$b=async function(a,b){const c=b.requestId,d=b.path;b=b.payload;const e=a.C_.get(d);if(e){a.K8.u3.send({type:"ack",requestId:c});var f=setInterval(()=>a.K8.u3.send({type:"ack",requestId:c}),9E3);try{var g=await e(b);clearInterval(f);a.K8.u3.send({type:"response",requestId:c,payload:g})}catch(k){clearInterval(f);g="internal_error";b="Something went wrong on our end, if this issue persists please contact us.";if(k instanceof D_){var h=k;k.code==="internal_error"?a.I.Lb(k,{Oe:"Internal error in comms handler",
tags:new Map([["type","request"],["path",d]])}):(g=k.code,b=k.gGb)}else a.XGb?a.I.Lb(k,{Oe:"Unexpected error type thrown from comms handler",tags:new Map([["type","request"],["path",d]])}):a.Xob.error(k);g=E$b(a.K8,c,g,b);g.ok||a.I.oQ(g.error,{Oe:"unable to send error response",tags:new Map([["type","request"],["path",d]])})}if(h!=null)for(const k of a.hrb)try{k(h)}catch(l){a.I.TJ(l,{Oe:"Error executing errorObserver"})}}else h=E$b(a.K8,c,"internal_error",`No request handler configured for path: "${d}".`),
h.ok||a.I.oQ(h.error,{Oe:"unable to send error response",tags:new Map([["type","request"],["path",d]])})};E$b=function(a,b,c,d){return a.u3.send({type:"error",requestId:b,code:c,message:d})};H$b=function({src:a,srcdoc:b,sandbox:c}){if(b.length!==0||!c.contains("allow-same-origin"))return G$b;a=(new URL(a)).origin;return a==="null"?G$b:{iMa:a,d9a:a}};
K$b=async function(a,b,c,{addEventListener:d,removeEventListener:e}=window){const f=new I$b(6E4),g=H$b(c),h=c.contentWindow;if(!h)throw new D_({code:"internal_error",message:"contentWindow is missing from iFrame"});c=({data:k,source:l,origin:m})=>{k?.source?.startsWith("react-")||(m!==g.iMa?J$b(m)||b.info("received message event from an unexpected origin",{extra:new Map([["expected",g.iMa],["actual",m]])}):l!==h?l!==window&&b.info("source and content window do not match",{extra:new Map([["data.source",
k?.source]])}):(l=k?k.source?k.source!=="iframe"?Aa("invalid source"):(0,__c.za)():Aa("'source' is missing in MessageEvent data object"):Aa("missing 'data' field in MessageEvent"),l.ok?(h.postMessage({source:"parent"},g.d9a,[a]),f.resolve(void 0)):b.SJ(l.error,{extra:new Map([["data.source",k?.source]])})))};d("message",c);try{await f.promise()}finally{e("message",c)}};J$b=function(a){return L$b.some(b=>a.endsWith(b))};
E_=function(a,b,c,d,e){a.handle(b,async f=>{if(f===void 0)throw new D_({code:"internal_error",message:`${b}: request cannot be undefined.`});f=c.za(f);f=await d(f);if(e)return e.Fa(f)})};O$b=async function(a,b){a=await a.CG.request("SET_CONFIG",M$b.Fa(b));if(!a.ok)throw Error(`Encountered an error while sending ${"SET_CONFIG"} request: ${a.error}`);if(a.value==null)throw Error("SET_CONFIG: Result cannot be empty");return N$b.za(a.value)};
T$b=function(a,b){E_(a,"SELECTION_CHANGED",P$b,c=>b.Zub(c),Q$b);E_(a,"TEXT_CONTENT_CHANGED",R$b,c=>b.avb(c),S$b)};W$b=async function(a,b){a=await a.CG.request("RENDER_ELEMENT",U$b.Fa(b));a=F_(a,"RENDER_ELEMENT");return V$b.za(a)};Z$b=async function(a,b){a=await a.CG.request("SET_CAPABILITY",X$b.Fa(b));a=F_(a,"SET_CAPABILITY");return Y$b.za(a)};bac=async function(a,b){a=await a.CG.request("SET_EDIT_PANEL_VALUE",$$b.Fa(b));a=F_(a,"SET_EDIT_PANEL_VALUE");return aac.za(a)};
fac=function(a,b){E_(a,"SET_CONFIG",cac,c=>b.$ub(c),dac);E_(a,"RESIZE_EVENT",eac,c=>b.Uub(c))};F_=function(a,b){if(!a.ok)throw Error(`Encountered an error while sending ${b} request: ${a.error}`);if(a.value==null)throw Error(`${b}: Result cannot be empty`);return a.value};iac=async function(a,b){const {port1:c,port2:d}=new MessageChannel,e=new gac(c,b);await K$b(d,b,a,window);return{CG:e,$pb:new hac(e)}};
kac=async function(a,b){const {port1:c,port2:d}=new MessageChannel,e=new gac(c,b);await K$b(d,b,a,window);return{CG:e,emitter:new jac(e)}};nac=function(a,b){E_(a,"INIT_DATA",lac,c=>b.Qub(c),mac)};pac=function({se:a,qp:b,zq:c,Sa:d,I:e}){const f=new oac(e),g=(h,k)=>e.error(h,{Oe:"codelet: ",extra:new Map(Object.entries(k))});return G_(h=>{const k=H_(l=>{f.Dmb(l,h.TM)},[h.TM]);return I_(__c.dy,{url:h.url,store:b,zo:c,yD:g,Sa:d,wN:a>10,Bi:h.Bi||!1,pI:k,Fy:h.Fy})})};
qac=function({se:a,qp:b,zq:c,Sa:d,I:e}){const f=new oac(e),g=(h,k)=>e.error(h,{Oe:"codelet2: ",extra:new Map(Object.entries(k))});return G_(({url:h,Bi:k,TM:l,Fy:m})=>{const n=H_(p=>{f.Cmb(p,l)},[l]);return I_(__c.dy,{url:h,store:b,zo:c,yD:g,Sa:d,wN:a>10,Bi:k||!1,pI:n,Fy:m})})};J_=function(){throw Error("ref not found");};sac=function(a,b,c){return new rac(a,b,c)};__c.K_=function(){return a=>a};L_=function(a,b){return b.map(c=>({type:a,id:c.id,version:c.version}))};M_=function(a){return{kind:0,vN:a}};
tac=function(){return{kind:1}};N_=function(a){return{kind:3,range:a}};uac=function(a){return{kind:2,range:a}};O_=function(...a){return{kind:4,values:new Set(a)}};vac=function(a){return{kind:5,itemType:a}};P_=function(a){return{kind:7,name:a}};Q_=function(a){return{kind:8,itemType:a}};R_=function(a){return{kind:10,fields:a}};wac=function(a,...b){return{kind:11,kVa:a,sg:b}};S_=function(a,b,c){return(d,...e)=>({key:d,bJa:a,QE:b,type:c(...e)})};
T_=__c.T_=function(a){const b=new Set;for(const c of Object.values(a))u(!b.has(c.key),"duplicate key: {}",c.key),b.add(c.key);return a};xac=function(a){switch(a.kind){case 0:case 1:case 2:case 3:case 4:case 5:case 6:return!1;case 7:case 8:case 9:case 10:case 11:return!0;default:throw new E(a);}};__c.U_=function(a){return()=>({...yac,...a})};zac=function(a,b){a={...a.hX};b.fb.every(c=>!!c.fill.ue.ref?.image&&!!c.fill.ue.ref?.video)&&(a.It=!0);return a};
Aac=function(a,b){a={...a.hX};b.sb.every(c=>!!c.ue.ref?.text)&&(a.It=!0);return a};Bac=function(a,b){switch(b.type){case "rect":return a={...a.hX},b.fill.ue.ref?.image&&b.fill.ue.ref?.video&&(a.It=!0),a;case "shape":return zac(a,b);case "text":return a={...a.hX},b.ue.ref?.text&&(a.It=!0),a;case "chart":return{...a.hX};case "line":return Aac(a,b);case "grid":return{...a.hX};default:throw new E(b);}};
Fac=function(a,b){return a.e.classes.U1.create({},{U:{image:a.e.computed(()=>Cac(a.ue,b.image,b.ue.ref?.image)),video:a.e.computed(()=>Dac(a.ue,b.video,b.ue.ref?.video)),Pa:b.Pa},attributes:Eac(b)})};Hac=function(a,b){return{...Gac(a,b),N:()=>b.N}};Eac=function(a){return{Ll:()=>a.Ll,color:()=>a.color,xa:()=>a.xa,locked:()=>a.locked,lg:()=>a.lg,Nk:()=>a.Nk,Wc:()=>a.Wc,flipX:()=>a.flipX,flipY:()=>a.flipY}};
Gac=function(a,b){return{height:()=>b.height,width:()=>b.width,top:()=>b.top,left:()=>b.left,rotation:()=>b.rotation,Yi:()=>Bac(a.h1a,b),locked:!0}};Cac=function(a,b,c){const d=c?a.ue?.get(c):void 0;return{ref:(d&&Iac(d,"image_fill"))?.image.ref??b.ref,set:e=>Jac(a,{type:"image_fill",value:{...__c.tD,image:e}},c)}};Dac=function(a,b,c){const d=c?a.ue?.get(c):void 0;return{ref:(d&&Iac(d,"video_fill"))?.video.ref??b.ref,set:e=>Jac(a,{type:"video_fill",value:{...__c.tD,video:e}},c)}};
Iac=function(a,b){if(a.type!==b)throw Error(`Expected override type ${b} but got ${a.type}`);return a.value};Jac=function(a,b,c){if(!c)throw Error("No override key is available, but this is being set on an instance. This is likely an error with the locking logic.");a.ue.set(c,b)};Kac=async function(a,b){[a]=await __c.Esa(a,[b]);return new V_({id:b.id,url:a.fonts[0].files[0].url})};Lac=async function(a,b,c){a=await Kac(a,c);return Z$b(b,a)};
Mac=async function(a,b,c,d,e,f){const g=b.vXa.ref?.first(),h=a.Ra;c=await W$b(c,{config:b.config,Zya:h!=null&&g!=null?await Kac(h,g):void 0});a.config.BX?.qeb(c,b,d,e,f)};
Oac=function(a,b){const c=new Map;return Nac(()=>{const d=new Map;a.config.forEach((e,f)=>{let g;const h=c.get(f);e.textContent!==h?.textContent&&(g={...(g??new W_({})),textContent:e.textContent});e.backgroundColor!==h?.backgroundColor&&(g={...(g??new W_({})),backgroundColor:e.backgroundColor});g&&d.set(f,g);c.set(f,{...e})});return d},async d=>O$b(b,new M$b({config:d})),{fireImmediately:!0})};
Uac=function(a){function b(f,g){var h=c;g=g();u(!h.I$.has(f));g={document:Pac(h.qTa(f,g.document)),G:Pac(h.qTa(f,g.G))};h.I$.set(f,g);return{id:f,Xm:g}}const c=a.VMa,{Nga:d=__c.uc("c79472f0",!1)}=a,e=a.WWb??__c.uc("1d0cd616",!1);return{nv:b("w:wnJF5T87v",Qac),oga:b("w:xB9fK2LmQ",Rac),kX:a.Nxa?Promise.all([__webpack_require__.me(270376).then(()=>__c.X_),__webpack_require__.me(309241).then(()=>__c.Y_),__webpack_require__.me(726606).then(()=>__c.Z_),__webpack_require__.me(555219).then(()=>__c.$_),__webpack_require__.me(756388).then(()=>
__c.a0),__webpack_require__.me(516583).then(()=>__c.b0),__webpack_require__.me(93698).then(()=>__c.c0),__webpack_require__.me(295247).then(()=>__c.d0),__webpack_require__.me(934200).then(()=>__c.e0),__webpack_require__.me(308710).then(()=>__c.f0)]).then(([f,g,h,k,l,m,n,p,q,r])=>({Gfa:b("w:cm9wgGptP",f.ii),Ifa:b("w:yLMS4dWnl",g.ii),Jfa:b("w:2flp30CGQ",h.ii),Kfa:b("w:1Nv6K6Dtv",k.ii),Lfa:b("w:5Nv6K6Dtv",l.ii),Mfa:b("w:6Nv6K6Dtv",m.ii),Nfa:b("w:7Nv6K6Dtv",n.ii),Ofa:b("w:8Nv6K6Dtv",p.ii),Pfa:b("w:9Nv6K6Dtv",
q.ii),Hfa:b("w:sSrc7m4Q3",r.ii)})):void 0,WC:b("w:JR4G8hDDg",Sac),Fea:b("w:KS5H9iEEh",Tac),form:d?__webpack_require__.me(313335).then(()=>__c.g0).then(f=>b("widget:form",f.ii)):void 0,DZ:a.Vxa?__webpack_require__.me(870165).then(()=>__c.h0).then(f=>b("w:K7mQ9xR3p",f.ii)):void 0,scene:a.$xa?__webpack_require__.me(666647).then(()=>__c.i0).then(f=>b("w:2pbXJMtm1",f.ii)):void 0,button:e?__webpack_require__.me(868015).then(()=>__c.j0).then(f=>b("w:PQccHDsCJ",f.ii)):void 0}};
$ac=function(a){function b({id:e,Xm:f},g){var h=d;g=g();const k=y(h.GHa.I$.get(e));u(k.G===f.G);u(!h.uTa.has(e));f=Vac(e,g,f);h.uTa.set(e,f);return f}const c=a.WMa,d=a.UMa;return{kX:c.kX?Promise.all([c.kX,__webpack_require__.me(270376).then(()=>__c.X_),__webpack_require__.me(309241).then(()=>__c.Y_),__webpack_require__.me(726606).then(()=>__c.Z_),__webpack_require__.me(555219).then(()=>__c.$_),__webpack_require__.me(756388).then(()=>__c.a0),__webpack_require__.me(516583).then(()=>__c.b0),__webpack_require__.me(93698).then(()=>
__c.c0),__webpack_require__.me(295247).then(()=>__c.d0),__webpack_require__.me(934200).then(()=>__c.e0),__webpack_require__.me(308710).then(()=>__c.f0)]).then(([e,f,g,h,k,l,m,n,p,q,r])=>({Gfa:b(e.Gfa,f.hi),Ifa:b(e.Ifa,g.hi),Jfa:b(e.Jfa,h.hi),Kfa:b(e.Kfa,k.hi),Lfa:b(e.Lfa,l.hi),Mfa:b(e.Mfa,m.hi),Nfa:b(e.Nfa,n.hi),Ofa:b(e.Ofa,p.hi),Pfa:b(e.Pfa,q.hi),Hfa:b(e.Hfa,r.hi)})):void 0,scene:c.scene?Promise.all([c.scene,__webpack_require__.me(666647).then(()=>__c.i0)]).then(([e,f])=>b(e,f.hi)):void 0,button:c.button?
Promise.all([c.button,__webpack_require__.me(868015).then(()=>__c.j0)]).then(([e,f])=>b(e,f.hi)):void 0,WC:b(c.WC,Wac),Fea:b(c.Fea,Xac),form:c.form?Promise.all([c.form,__webpack_require__.me(313335).then(()=>__c.g0)]).then(([e,f])=>b(e,f.hi)):void 0,nv:b(c.nv,Yac),oga:b(c.oga,Zac),DZ:c.DZ?Promise.all([c.DZ,__webpack_require__.me(870165).then(()=>__c.h0)]).then(([e,f])=>b(e,f.hi)):void 0}};
ibc=function(a){function b({oi:h,Co:k,Ld:l,wJ:m="default"}){const n=k.id;k=k.Xm;h=l({aQ:{...f,$a:e.Tv(`widgets.rendering.clients.${m}`)},oi:h});l=y(d.GHa.I$.get(n));u(l.G===k.G);u(!d.B_.has(n));abc.has(n)||(__c.GR.set(n,bbc),abc.add(n));const {drb:p,rM:q}=cbc(d,k,h);l=dbc(d,k,h,q);h={G:p,email:l,exports:h.exports,metadata:h.metadata,rM:q,fga:h.fga};d.B_.set(n,h);return{id:n,Xm:k,bHa:h,wJ:m}}const c=a.WMa,d=a.dca,e=a.lf,f=a.aQ,g=a.oi;return{nv:b({oi:{rG:g.rG,PC:g.PC},Co:c.nv,Ld:ebc,wJ:"blueprint"}),
oga:b({oi:{rG:g.rG},Co:c.oga,Ld:fbc,wJ:"documentBlueprint"}),kX:c.kX?Promise.all([c.kX,__webpack_require__.me(270376).then(()=>__c.X_),__webpack_require__.me(309241).then(()=>__c.Y_),__webpack_require__.me(726606).then(()=>__c.Z_),__webpack_require__.me(555219).then(()=>__c.$_),__webpack_require__.me(756388).then(()=>__c.a0),__webpack_require__.me(516583).then(()=>__c.b0),__webpack_require__.me(93698).then(()=>__c.c0),__webpack_require__.me(295247).then(()=>__c.d0),__webpack_require__.me(934200).then(()=>
__c.e0),__webpack_require__.me(308710).then(()=>__c.f0)]).then(([h,k,l,m,n,p,q,r,t,v,w])=>({Gfa:b({oi:void 0,Co:h.Gfa,Ld:k.Ld}),Ifa:b({oi:void 0,Co:h.Ifa,Ld:l.Ld}),Jfa:b({oi:void 0,Co:h.Jfa,Ld:m.Ld}),Kfa:b({oi:void 0,Co:h.Kfa,Ld:n.Ld}),Lfa:b({oi:void 0,Co:h.Lfa,Ld:p.Ld}),Mfa:b({oi:void 0,Co:h.Mfa,Ld:q.Ld}),Nfa:b({oi:void 0,Co:h.Nfa,Ld:r.Ld}),Ofa:b({oi:void 0,Co:h.Ofa,Ld:t.Ld}),Pfa:b({oi:void 0,Co:h.Pfa,Ld:v.Ld}),Hfa:b({oi:void 0,Co:h.Hfa,Ld:w.Ld})})):void 0,WC:b({oi:{ira:g.ira,Ra:g.Ra},Co:c.WC,Ld:gbc,
wJ:"codelet"}),Fea:b({oi:{jra:g.jra},Co:c.Fea,Ld:hbc,wJ:"codelet2"}),form:c.form?Promise.all([c.form,__webpack_require__.me(313335).then(()=>__c.g0),g.VL?.()]).then(([h,k,l])=>b({oi:{Lsb:l,vD:g.vD},Co:h,Ld:k.Ld,wJ:"form"})):void 0,DZ:c.DZ?Promise.all([c.DZ,__webpack_require__.me(870165).then(()=>__c.h0)]).then(([h,k])=>b({oi:void 0,Co:h,Ld:k.Ld,wJ:"navigationMenu"})):void 0,scene:c.scene?Promise.all([c.scene,__webpack_require__.me(666647).then(()=>__c.i0)]).then(([h,k])=>b({oi:{Vy:g.Vy},Co:h,Ld:k.Ld,
wJ:"scene"})):void 0,button:c.button?Promise.all([c.button,__webpack_require__.me(868015).then(()=>__c.j0)]).then(([h,k])=>b({oi:void 0,Co:h,Ld:k.Ld,wJ:"button"})):void 0}};jbc=function(a){var b={document:void 0,G:void 0};const c=new Map;for(const d in b)a[d].NK.forEach((e,f)=>c.set(f,e));return{NK:c,decode:d=>{const e=new Map,f={};for(const g in d){const h=a[g].decode(d[g]);h.zHa.forEach((k,l)=>e.set(l,k));f[g]=h.data}return{zHa:e,data:f}},encode:d=>le(b,(e,f)=>a[f].encode(d[f]))}};
kbc=function(a){return()=>a};lbc=function(a){return a()};l0=function(a,b,c){return new k0([a],b,c)};m0=function(a,b,c,d){return new k0([a,b],c,d)};n0=function(a,b,c,d){return new mbc(a,b,c,d)};nbc=function(a,b){return b(a)};obc=function(a){return(b,c)=>({kind:2,name:a,args:[b,c]})};pbc=function(a){return b=>({kind:3,name:a,args:b})};o0=function(a,b){return a===b||b.map(c=>a.xBa(qbc(c)))};sbc=function(a,b){return a.LDa(b).map(c=>new rbc(c,d=>d.props[b]))};qbc=function(a){u(a instanceof p0);return a};
q0=function(a){const b=new WeakMap;return function(c){let d=b.get(c);d==null&&(d=a.call(this,c),b.set(c,d));return d}};
s0=function(a,b){if(a===b)return!0;switch(typeof a){case "string":case "number":case "boolean":case "undefined":return!1;case "object":if(typeof b!=="object"||a.kind!==b.kind)return!1;switch(a.kind){case "array":return b.kind==="array"&&r0(a.items,b.items);case "set":var c;if(c=b.kind==="set")a=a.items,b=b.items,c=a===b?!0:a.size!==b.size?!1:r0([...a],[...b]);return c;case "map":if(c=b.kind==="map")a=a.items,b=b.items,c=a===b?!0:a.size!==b.size?!1:r0([...a.keys(),...a.values()],[...b.keys(),...b.values()]);
return c;case "record":return b.kind==="record"&&tbc(a.fields,b.fields);case "instance":return b.kind==="instance"&&a.instance===b.instance;default:throw new E(a);}default:throw new E(a);}};r0=function(a,b){if(a===b)return!0;if(a.length!==b.length)return!1;for(let c=0;c<a.length;c++)if(!s0(a[c],b[c]))return!1;return!0};
tbc=function(a,b){if(a===b)return!0;const c=Object.keys(a),d=Object.keys(b),e=new Set([...c,...d]);if(c.length!==e.size||d.length!==e.size)return!1;for(const f of e)if(!s0(a[f],b[f]))return!1;return!0};t0=function(a){return typeof a==="string"?JSON.stringify(a):String(a)};vbc=function(a,b){return a.map(c=>b.map(d=>ubc[0](c,d)))};xbc=function(a,b,c){return b.map(d=>wbc[a](d,c))};ybc=function(a,b){return new u0(new v0(new Map(b),a.vars),a.f6)};
Abc=function(a,b,c){for(const [e,f]of c.f6){var d=f.params.map(([g,h])=>[g,a.types.evaluate(h)]);d=zbc(b,d,g=>w0(a,g,f.body));b=new u0(b.vars,b.f6.define(e,d))}return w0(a,b,c.body)};
w0=function(a,b,c){switch(c.kind){case 1:return Bbc(c.value);case 2:const f=c.args.map(q=>w0(a,b,q));c=c.name;return typeof c==="string"?b.f6.resolve(c).map(q=>Cbc(q,f)):Dbc[c].map(q=>x0(q,f));case 3:const g=c.args.map(q=>q.kind!==13?new Ebc(w0(a,b,q)):new Fbc(w0(a,b,q.x0b)));c=c.name;switch(c){case 0:case 1:var d=g.map(q=>q.Xya(r=>r.type,r=>r.type.hS()));return y0.union(...d).map(Gbc[c]).map(q=>Hbc(q,g));default:return Ibc[c].map(q=>Hbc(q,g))}case 4:d=c.name;var e=c.param;const h=c.body,k=w0(a,b,
c.KW);c=k.type.hS();const l=zbc(b,[[e,c]],q=>w0(a,q,h));return xbc(d,c,l.resultType).map(q=>Jbc(q,k,l));case 5:const m=c.entries.map(([q,r])=>[w0(a,b,q),w0(a,b,r)]);c=y0.union(...m.map(([q])=>q.type));d=y0.union(...m.map(([,q])=>q.type));if(!o0(c,y0.primitive))throw Error(`key type is not a primitive: ${c}`);return vbc(c,d).map(q=>Kbc(q,m));case 6:const n=le(c.fields,q=>w0(a,b,q));c=le(n,q=>q.type);return(0,Lbc[0])(c).map(q=>Mbc(q,n));case 7:d=a.types.resolve(c.name);if(!d)throw Error(`cannot instantiate unknown type: ${c.name}`);
const p=w0(a,b,{kind:6,fields:c.args});return d.JBb.map(q=>x0(q,[p],{Hp:!0}));case 8:return d=w0(a,b,c.base),Nbc(d,c.E8b);case 9:return Obc(b,c.name);case 10:return d=Sc(c.defs,q=>w0(a,b,q)),Pbc(a,b,d,c.body);case 11:return d=w0(a,b,c.test).as(y0.Yg),e=w0(a,b,c.vUb),c=w0(a,b,c.alternate),Qbc(d,e,c);case 12:return w0(a,b,c.body).computed();default:throw new E(c);}};
Bbc=function(a){switch(typeof a){case "string":return z0(y0.string,a);case "number":return z0(y0.number,a);case "boolean":return z0(y0.Yg,a);case "undefined":return z0(y0.undefined,a);default:throw new E(a);}};Nbc=function(a,b){return a.map(c=>sbc(c,b).map(({type:d,get:e})=>x0(new k0([c],d,e),[a])))};Obc=function(a,b){return a.vars.resolve(b).map(c=>A0.of(c,d=>d.resolve(b)))};
Pbc=function(a,b,c,d){const e=Sc(c,g=>g.type),f=Sc(c,g=>g.evaluate);return Rbc(w0(a,ybc(b,e),d),g=>{const h=Sc(f,k=>k(g));return new v0(new Map(h),g)})};Qbc=function(a,b,c){return b.map((d,e)=>c.map((f,g)=>{f=y0.union(d,f);return A0.of(f,h=>{const k=a(h),l=e(h),m=g(h);return()=>k()?l():m()})}))};B0=function(a){return b=>b(a)};
Cbc=function({qma:a,resultType:b,evaluate:c},d){if(d.length!==a.length)throw Error(`expected ${a.length} arguments, but got ${d.length}`);const e=Sbc(a,(f,g)=>d[g].as(f));return A0.of(b,f=>{const g=e.map(B0(f));return c(f)(...g)})};x0=function({qma:a,resultType:b,apply:c},d,e){if(d.length!==a.length)throw Error(`expected ${a.length} arguments, but got ${d.length}`);const f=Sbc(a,(g,h)=>d[h].as(g));return A0.of(b,g=>{g=f.map(B0(g));return Tbc(e?.Hp?Ubc(c):c,g)})};
Hbc=function({XEb:a,resultType:b,apply:c},d){let e;const f=d.map(g=>g.Uta(h=>h.as(a),h=>h.as(e??(e=y0.KW(a)))));return new A0(b,g=>{const h=B0(g),k=f.map(l=>l.Uta(h,h));return()=>{const l=[];k.forEach(m=>{m.Xya(n=>l.push(n()),n=>l.push(...n()))});return c(l)}})};Kbc=function({keyType:a,valueType:b,resultType:c,apply:d},e){const f=e.map(([g,h])=>[g.as(a),h.as(b)]);return new A0(c,g=>{const h=f.map(([k,l])=>[k(g),l(g)]);return()=>d(h.map(([k,l])=>[k(),l()]))})};
Mbc=function({Njb:a,resultType:b,apply:c},d){const e=Object.keys(a).filter(g=>!d.hasOwnProperty(g));if(e.length)throw Error(`too few arguments (missing ${e})`);const f=Vbc(a,(g,h)=>d[h].as(g));return new A0(b,g=>{const h=le(f,B0(g));return()=>{var k=le(h,lbc);return c(k)}})};z0=function(a,b){const c=kbc(b);return new A0(a,()=>c)};
Jbc=function({itemType:a,fkb:b,resultType:c,reduce:d},e,f){const g=f.as([a],b),h=e.as(y0.KW(a));return new A0(c,k=>{const l=h(k),m=g(k),n=Ubc(p=>{p=p.map(kbc);return[p,p.map(m)]});return()=>{const [p,q]=n(l());return d(p,q)}})};Rbc=function(a,b){const c=a.evaluate;return new A0(a.type,d=>c(b(d)))};zbc=function(a,b,c){const d=b.map(f=>f[0]),e=b.map(f=>f[1]);return nbc(e,f=>c(ybc(a,new Map(b))).map((g,h)=>new Wbc(f,g,k=>(...l)=>{const m=new Map(d.map((n,p)=>[n,l[p]]));return h(new v0(new Map(m),k))})))};
Tbc=function(a,b){switch(b.length){case 0:return a;case 1:const [c]=b;return()=>a(c());case 2:const [d,e]=b;return()=>a(d(),e());default:return()=>{var f=b.map(lbc);return a(...f)}}};Ubc=function(a){let b;return(...c)=>{if(b&&b.zeb.length===c.length&&b.zeb.every((e,f)=>C0.jh(e,c[f])))return b.v;const d=a(...c);b={zeb:c,v:d};return d}};Vbc=function(a,b){return le(a,b)};Sbc=function(a,b){return a.map(b)};Ybc=function(a,b,c){return new Xbc(a,b,c)};Zbc=function(a,b){return[...a].map(b)[Symbol.iterator]()};
D0=function(a,b,c,d){if(d==null)throw a.error(b.wL(c),"not found");return d};
mcc=function(a){function b(r){return m[r.kind](r)}const c=a.types,d=a.values;class e{static of(r,t,v,w,z,A){return new e(r,v,w,$bc(z,acc(t)),bcc(A,acc(t)))}map(r){return r(this)}validate(r){return r?new e(this.dataType,this.Fba,this.fba,ccc(this.decode,r),$bc(this.encode,r)):this}constructor(r,t,v,w,z){this.dataType=r;this.Fba=t;this.fba=v;this.decode=w;this.encode=z}}const f=e.of({kind:0},"string",c.string,r=>r,(r,t,v)=>v.value,(r,t,v)=>({type:"string",value:v})),g=e.of({kind:1},"boolean",c.Yg,r=>
r,(r,t,v)=>v.value,(r,t,v)=>({type:"boolean",value:v})),h=e.of({kind:2},"double",c.number,r=>r,(r,t,v)=>v.value,(r,t,v)=>({type:"double",value:v})).validate((r,t,v)=>{if(!Number.isFinite(v))throw r.error(t,`number is not finite: ${v}`);}),k=e.of({kind:3},"int32",c.number,r=>r,(r,t,v)=>v.value,(r,t,v)=>({type:"int32",value:v})).validate((r,t,v)=>{if(!Number.isInteger(v)||v<-2147483648||v>2147483647)throw r.error(t,`number is not an int32: ${v}`);}),l={FontRef:e.of({kind:7,name:"FontRef"},"ref",c.instance("FontRef"),
r=>d.instance("FontRef",r),E0("font"),(r,t,v)=>({type:"ref",value:v})),MediaRef:e.of({kind:7,name:"MediaRef"},"ref",c.instance("MediaRef"),r=>d.instance("MediaRef",r),E0("media"),(r,t,v)=>({type:"ref",value:v})),VideoRef:e.of({kind:7,name:"VideoRef"},"ref",c.instance("VideoRef"),r=>d.instance("VideoRef",r),E0("video"),(r,t,v)=>({type:"ref",value:v})),AudioRef:e.of({kind:7,name:"AudioRef"},"ref",c.instance("AudioRef"),r=>d.instance("AudioRef",r),E0("audio"),(r,t,v)=>({type:"ref",value:v})),EmbedRef:e.of({kind:7,
name:"EmbedRef"},"ref",c.instance("EmbedRef"),r=>d.instance("EmbedRef",r),E0("embed"),(r,t,v)=>({type:"ref",value:v})),SceneRef:e.of({kind:7,name:"SceneRef"},"ref",c.instance("SceneRef"),r=>d.instance("SceneRef",r),E0("scene"),(r,t,v)=>({type:"ref",value:v})),BlueprintRef:e.of({kind:7,name:"BlueprintRef"},"ref",c.instance("BlueprintRef"),r=>d.instance("BlueprintRef",r),E0("blueprint"),(r,t,v)=>({type:"ref",value:v})),Fill:e.of({kind:7,name:"Fill"},"fill",c.instance("Fill"),r=>d.instance("Fill",r),
(r,t,v)=>v.value,(r,t,v)=>({type:"fill",value:v})),Stroke:e.of({kind:7,name:"Stroke"},"stroke",c.instance("Stroke"),r=>d.instance("Stroke",r),(r,t,v)=>v.value,(r,t,v)=>({type:"stroke",value:v})),Richtext2:e.of({kind:7,name:"Richtext2"},"text2",c.instance("Richtext2"),r=>d.instance("Richtext2",r),(r,t,v)=>v.value,(r,t,v)=>({type:"text2",value:v}))},m={[0]:r=>f.validate(dcc(r.vN)),[1]:()=>g,[2]:r=>h.validate(ecc(r.range)),[3]:r=>k.validate(ecc(r.range)),[4]:r=>e.of({kind:4,values:r.values},fcc,c.primitive,
t=>t,(t,v,w)=>w.value,(t,v,w)=>{a:switch(typeof w){case "string":t={type:"string",value:w};break a;case "boolean":t={type:"boolean",value:w};break a;case "number":t={type:"int32",value:w};break a;default:throw new E(w);}return t}).validate(gcc(r.values)),[5]:r=>{const {dataType:t,Fba:v,fba:w,decode:z,encode:A}=b(r.itemType);return e.of({kind:5,itemType:t},"list",c.array(v),C=>d.array(C.map(w)),(C,B,D)=>D.value.toArray().map((J,L)=>z(C,B.jR(L),J)),(C,B,D)=>({type:"list",value:D.map((J,L)=>A(C,B.jR(L),
J))}))},[6]:r=>{const {dataType:t,Fba:v,fba:w,decode:z,encode:A}=b(r.itemType);return e.of({kind:6,itemType:t},"dict",c.map(c.string,v),C=>d.map(Sc(C,w)),(C,B,D)=>Sc(D.value.ql(),(J,L)=>z(C,B.W5(L),J)),(C,B,D)=>({type:"dict",value:Sc(D,(J,L)=>A(C,B.W5(L),J))}))},[7]:r=>l[r.name],[8]:r=>{const {dataType:t,decode:v,encode:w}=b(r.itemType);return e.of({kind:8,itemType:t},"list",c.undefined,()=>{},(z,A,C)=>sac(C.value,B=>w(z,A.jR("*"),B),hcc(v,z,A.jR("*"))),(z,A,C)=>({type:"list",value:C.map((B,D)=>w(z,
A.jR(D),B))}))},[9]:r=>{const {dataType:t,decode:v,encode:w}=b(r.itemType);return e.of({kind:9,itemType:t},"dict",c.undefined,()=>{},(z,A,C)=>Ybc(C.value,B=>w(z,A.W5("*"),B),hcc(v,z,A.jR("*"))),(z,A,C)=>({type:"dict",value:Sc(C,(B,D)=>w(z,A.W5(D),B))}))},[10]:r=>{const {decode:t,encode:v}=p.n1a(r.fields);return e.of({kind:10,fields:r.fields},"dict",c.undefined,()=>{},t,v)},[11]:r=>{function t(J,L,N,O){N=N.get(O);if(N==null)throw J.error(L,`unknown case for discriminator value: ${O}`);return N}const v=
r.kVa;r=r.sg;var w=Object.keys(v);u(w.length>=1,"missing discriminator props");u(w.length<=1,"too many discriminator props: {}",w);const z=w[0];u(r.length>=1,"discriminated union has no cases");w=new Map;for(const J of r){const L=J.fields[z].type.values,N=b(J);for(const O of L)u(!w.has(O),"discriminator values are not unique across cases: {}",O),w.set(O,N)}const {decode:A,encode:C}=b({kind:4,values:new Set(w.keys())}),B=Sc(w,J=>J.decode),D=Sc(w,J=>J.encode);return e.of({kind:11,kVa:v,sg:r},"dict",
c.undefined,()=>{},(J,L,N)=>{var O=D0(J,L,"k",N.value.get("k"));N=D0(J,L,"v",N.value.get("v"));icc(J,L,"dict",N);O=A(J,L,O);return t(J,L,B,O)(J,L,N)},(J,L,N)=>{const O=N[z],S=t(J,L,D,O);return{type:"dict",value:new Map([["k",C(J,L,O)],["v",S(J,L,N)]])}})}},n=Symbol("$impl");class p{static n1a(r){r=le(r,w=>q.of(w));const t=le(r,w=>w.yLb()),v=Object.entries(r);return{NK:new Map(v.map(([,w])=>w.tLb())),zLb:w=>{const z=w[n];return new Map(v.map(([,A])=>A.ALb(z)))},decode:(w,z,A)=>{const C=Object.create(null,
t);Object.defineProperty(C,n,{enumerable:!1,writable:!1,value:new p(w,z,A.value)});return C},encode:(w,z,A)=>{const C=v.map(([B,D])=>D.encode(w,z,A[B]));return{type:"dict",value:new Map(C.filter(__c.mb))}}}}Xza(r,t){const v=D0(this.e,this.p,t,this.data.get(t));return F0(this.OWa,r.decode,this.e,this.p.wL(t),v)}Uza(r,t){const v=this.data.get(t);if(v!=null)return F0(this.OWa,r.decode,this.e,this.p.wL(t),v)}R$a(r,t,v){this.data.set(t,r.encode(this.e,this.p.wL(t),v))}K$a(r,t,v){v!=null?this.data.set(t,
r.encode(this.e,this.p.wL(t),v)):this.data.delete(t)}constructor(r,t,v){this.e=r;this.p=t;this.data=v;this.OWa=new WeakMap;this.mRa=new Map;this.iub=jcc(this.mRa,(w,z)=>{const A=this;return{get ref(){return A.Xza(z,w)},set(C){A.R$a(z,w,C)}}});this.Wtb=jcc(this.mRa,(w,z)=>{const A=this;return{get ref(){return A.Uza(z,w)},set(C){A.K$a(z,w,C)}}})}}class q{static of(r){return new q(r,b(r.type))}tLb(){const r=this.key,t=this.Eb,v=this.type;switch(t.QE){case 0:return[r,v.Fba];case 1:return[r,c.optional(v.Fba)];
default:throw new E(t.QE);}}ALb(r){const t=this.key,v=this.Eb,w=this.type;switch(v.QE){case 0:return[t,()=>w.fba(r.Xza(w,t))];case 1:return[t,()=>{const z=r.Uza(w,t);return z!=null?w.fba(z):void 0}];default:throw new E(v.QE);}}yLb(){const r=this.key;var t=this.Eb;const v=this.type;if(xac(v.dataType)&&t.bJa===1){switch(t.QE){case 0:t=function(){return this[n].iub(r,v)};break;case 1:t=function(){return this[n].Wtb(r,v)};break;default:throw new E(t.QE);}return{enumerable:!0,get:t}}let w;switch(t.QE){case 0:w=
{enumerable:!0,get(){return this[n].Xza(v,r)},set(z){this[n].R$a(v,r,z)}};break;case 1:w={enumerable:!0,get(){return this[n].Uza(v,r)},set(z){this[n].K$a(v,r,z)}};break;default:throw new E(t.QE);}switch(t.bJa){case 0:w.set=void 0;break;case 1:break;default:throw new E(t.bJa);}return w}encode(r,t,v){const w=this.key,z=this.Eb,A=this.type;switch(z.QE){case 0:return[w,A.encode(r,t.wL(w),D0(r,t,w,v))];case 1:return v!=null?[w,A.encode(r,t.wL(w),v)]:void 0;default:throw new E(z.QE);}}constructor(r,t){this.Eb=
r;this.type=t;r=r.key;u(r>0&&Number.isInteger(r));if(r<=52)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"[r-1];else{for(t="";r>0;)r--,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"[r%52]+t,r=Math.floor(r/52);r=t}this.key=r}}return(r,t)=>{const v=new kcc(r),w=new lcc,{NK:z,zLb:A,decode:C,encode:B}=p.n1a(t);return{NK:z,decode:D=>{D=C(v,w,{type:"dict",value:D});return{zHa:A(D),data:D}},encode:D=>B(v,w,D).value}}};jcc=function(a,b){return(c,...d)=>{a.has(c)||a.set(c,b(c,...d));return a.get(c)}};
hcc=function(a,b,c){const d=new WeakMap;return e=>F0(d,a,b,c,e)};F0=function(a,b,c,d,e){let f=a.get(e);f==null&&(f=b(c,d,e),a.set(e,f));return f};$bc=function(a,b){return(c,d,e)=>{b(c,d,e);return a(c,d,e)}};ccc=function(a,b){return(c,d,e)=>{e=a(c,d,e);b(c,d,e);return e}};bcc=function(a,b){var c=ncc();return(d,e,f)=>{f=a(d,e,f);b(d,e,f);c(d,e,f);return f}};icc=function(a,b,c,d){if(d.type!==c)throw a.error(b,`type error: expected ${c}, was ${d.type}`);};
acc=function(a){return typeof a==="string"?(b,c,d)=>icc(b,c,a,d):(b,c,d)=>{if(!a.has(d.type))throw b.error(c,`type error: expected one of ${[...a].join(" or ")}, was ${d.type}`);}};ncc=function(){return(a,b,c)=>{if(typeof c.value!==occ[c.type])throw a.error(b,`type error: expected ${c.type}, was ${typeof c.value}`);}};gcc=function(a){return(b,c,d)=>{if(!a.has(d))throw b.error(c,`expected one of ${[...a].join(" or ")}, was ${d}`);}};
ecc=function(a){if(a){var b=a.min,c=a.max;u(b==null||c==null||b<=c);return(d,e,f)=>{if(b!=null&&f<b)throw d.error(e,`value below min ${b}: ${f}`);if(c!=null&&f>c)throw d.error(e,`value above max ${b}: ${f}`);}}};dcc=function(a){if(a)return(b,c,d)=>{if(!a.test(d))throw b.error(c,`value does not match regex ${a}: '${d}'`);}};E0=function(a){return(b,c,d)=>{if(d.value.type!==a)throw b.error(c,`expected ${pcc[a]} resource type, got ${pcc[d.value.type]}`);return{...d.value,type:a}}};
G0=function(a){return typeof a==="function"};qcc=function(a){return{get:()=>a,set:H0}};rcc=function(...a){const b=new Set,c=new Set;for(const d of a)for(const e in d)b.has(e)?c.add(e):b.add(e);if(c.size)throw Error(`keys not disjoint: ${[...c].map(d=>`'${d}'`).join(", ")}`);};scc=function(a,b){return()=>b(le(a,c=>c()))};ucc=function(a){u(a.length===1);let b;return c=>{if(b!=null&&tcc(b[0],c))return b[1];const d=a(c);b=[c,d];return d}};
tcc=function(a,b){if(a===b)return!0;if(a==null||b==null)return!1;const c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(const e of c)if(a[e]!==b[e])return!1;return!0};
wcc=function(a){var b=vcc;return{U1:b({lp:a.U1,args:{},ue:{U:{image:void 0,video:void 0,Pa:void 0},attributes:{Ll:void 0,color:void 0,xa:void 0,locked:void 0,lg:void 0,Nk:void 0,Wc:void 0,flipX:void 0,flipY:void 0}}}),Tra:b({lp:a.Tra,args:{},ue:{U:{fill:void 0},attributes:{weight:void 0,color:void 0,Oc:void 0,re:void 0}}}),qV:b({lp:a.qV,args:{d:void 0},ue:{U:{fill:void 0,stroke:void 0},attributes:{N:void 0}}}),Z1:b({lp:a.Z1,args:{},ue:{U:{fill:void 0,stroke:void 0},attributes:{...I0,N:void 0}}}),
Nra:b({lp:a.Nra,args:{},ue:{U:{sb:void 0,resizeMode:void 0,slice:void 0,fb:void 0},attributes:{...I0,Fj:void 0,viewBox:void 0}}}),Gca:b({lp:a.Gca,args:{},ue:{U:{text:void 0},attributes:{...I0,Rz:void 0,yh:void 0,Ha:void 0,J:void 0,P:void 0,Lf:void 0}}}),JNa:b({lp:a.JNa,args:{url:void 0,J:void 0,P:void 0},ue:{U:{},attributes:I0}})}};J0=function(a,b){return c=>b({...a,...c})};
Bcc=function(){return wcc({U1:J0(K0,a=>zd(__c.yN,a)),Tra:J0(xcc,a=>zd(__c.Fz,a)),qV:J0(ycc,a=>zd(__c.rR,a)),Z1:J0(L0,a=>zd(__c.oA,{...a,id:rD.generate()})),Nra:J0(M0,a=>zd(__c.pA,{...a,fb:[],viewBox:{top:0,left:0,width:1,height:1},id:rD.generate()})),Gca:J0(zcc,a=>zd(__c.qA,{...a,id:rD.generate()})),JNa:J0(Acc,a=>zd(__c.rA,{...a,id:rD.generate()}))})};
Ecc=function(){return(new Ccc({})).add((a,b)=>({FontRef:new a("FontRef",{id:b.string,version:b.number},c=>({type:"font",id:c.id,version:c.version}))})).add((a,b)=>({MediaRef:new a("MediaRef",{id:b.string,version:b.number},c=>({type:"media",id:c.id,version:c.version}))})).add((a,b)=>({VideoRef:new a("VideoRef",{id:b.string},c=>({type:"video",id:c.id,version:0}))})).add((a,b)=>({AudioRef:new a("AudioRef",{id:b.string},c=>({type:"audio",id:c.id,version:0}))})).add((a,b)=>({EmbedRef:new a("EmbedRef",
{id:b.string},c=>({type:"embed",id:c.id,version:0}))})).add((a,b)=>({SceneRef:new a("SceneRef",{id:b.string},c=>({type:"scene",id:c.id,version:0}))})).add((a,b)=>({BlueprintRef:new a("BlueprintRef",{id:b.string,version:b.number},c=>({type:"blueprint",id:c.id,version:c.version}))})).add((a,b)=>({Fill:new a("Fill",{color:b.string},c=>__c.yN.create({...K0,color:c.color}))})).add((a,b)=>({Stroke:new a("Stroke",{color:b.string,weight:b.number,Oc:b.array(b.number),re:b.Yg},c=>__c.Fz.create({...xcc,color:c.color,
weight:c.weight,Oc:c.Oc.items,re:c.re}))})).add((a,b)=>({Richtext2:new a("Richtext2",{Osb:b.array(b.Qb({qb:b.string,attrs:b.map(b.string,b.string)}))},c=>{c=c.Osb;const d=__c.Lk.Cb();c.items.forEach(e=>{const f=e.fields.qb;d.attrs(__c.Mf(e.fields.attrs.items));d.qb(f)});return __c.Lk.create(d.build())})})).add((a,b)=>({Path:new a("Path",{d:b.string,fill:b.instance("Fill"),stroke:b.union(b.instance("Stroke"),b.undefined)},c=>{const d=c.stroke,e=c.fill;c=__c.rR.create({...ycc,d:c.d,fill:K0});Object.defineProperties(c,
{fill:{value:e.instance},stroke:{value:Dcc(d)}});return c})})).add((a,b)=>({RectElement:new a("RectElement",{top:b.number,left:b.number,width:b.number,height:b.number,rotation:b.union(b.number,b.undefined),fill:b.instance("Fill"),N:b.union(b.array(b.number),b.undefined),stroke:b.union(b.instance("Stroke"),b.undefined)},c=>{const d=c.stroke,e=__c.oA.create({...L0,id:rD.generate(),top:c.top,left:c.left,width:c.width,height:c.height,rotation:c.rotation??L0.rotation,fill:K0,N:c.N?.items??L0.N});Object.defineProperties(e,
{fill:{value:c.fill.instance},stroke:{value:Dcc(d)}});return e})})).add((a,b)=>({ShapeElement:new a("ShapeElement",{top:b.number,left:b.number,width:b.number,height:b.number,rotation:b.union(b.number,b.undefined),xa:b.union(b.number,b.undefined),viewBox:b.Qb({top:b.number,left:b.number,width:b.number,height:b.number}),fb:b.array(b.instance("Path"))},c=>{const d=__c.pA.create({...M0,id:rD.generate(),top:c.top,left:c.left,width:c.width,height:c.height,rotation:c.rotation??M0.rotation,xa:c.xa??M0.xa,
fb:[],viewBox:c.viewBox.fields});Object.defineProperties(d,{fb:{value:new N0(c.fb.items.map(e=>O0(()=>e.instance)))}});return d})}))};Dcc=function(a){return a&&{ref:a.instance,set(){throw Error("Replacing of stroke on a model unit is not yet supported");}}};Vac=function(a,b,c){return le(b,d=>(...e)=>{const {data:f,O:{width:g,height:h}}=d(...e);e=c.G.encode(f.G);const k=c.document.NK.size>0?c.document.encode(f.document):void 0;return{Ec:{...__c.VBb,app:{id:a,version:1}},lWb:k,Jd:e,Ne:{width:g,height:h}}})};
Gcc=function(a,b){return class extends Fcc{componentDidCatch(c){a.error(c);this.setState({hasError:!0})}render(){return this.state.hasError?I_(__c.gw,{background:"criticalLow",width:"full",height:"full",padding:"0.25u",display:"flex",alignItems:"center",justifyContent:"center",role:"alert",children:I_(__c.dw,{size:"xsmall",alignment:"center",children:__c.K("Q6XSow")})}):I_(b,{...this.props})}constructor(...c){super(...c);this.state={hasError:!1}}}};
cbc=function(a,b,c){const d=c.G,e=(c=c.r4)?new Hcc(c):void 0;c=e?f=>e.Pc(f.G):void 0;switch(d.type){case 0:a=Icc(a,d,b,c);break;case 1:a=Jcc(a,d,b,c);break;default:throw new E(d);}return{drb:a,rM:e}};dbc=function(a,b,c,d){c=c.email;if(c!=null){var e=d?g=>d.Pc(g.G):void 0,f=c.type;switch(f){case 2:return Kcc(a,c,b,e);default:throw new E(f);}}};
Icc=function(a,b,c,d){const e=b.Ix,{kta:f,t4:g,Xm:h,aHa:k}=P0(a,c);return typeof e==="object"?(b=a.Q0.types,b=b.KW(b.union(b.instance("RectElement"),b.instance("ShapeElement"))),Lcc(a,f,h,b,e,l=>new Q0(()=>l().map(m=>m.instance)),k)):{type:0,Ix:(l,m)=>{const {document:n,G:p}=h.decode(f(l)).data;m=g(l,m);l=d?{document:n,G:p,local:d(l)}:{document:n,G:p,local:void 0};return e(l,m)},Oka:R0(k),yR:S0(k),u_:T0(k)}};
Jcc=function(a,b,c,d){const e=b.Component,{kta:f,t4:g,Xm:h,aHa:k}=P0(a,c);return{type:1,Oka:R0(k),yR:S0(k),u_:T0(k),Component:Gcc(a.I,U0(({model:l,se:m,yRa:n})=>{n=Mcc(a.We,n);const [p]=V0(()=>{const {document:q,G:r}=h.decode(f(l)).data;return d?{document:q,G:r,local:d(l)}:{document:q,G:r,local:void 0}});m=g(l,m);return I_(e,{data:p,We:n,Ei:m})}))}};
Kcc=function(a,b,c,d){const e=b.Component,{kta:f,t4:g,Xm:h,aHa:k}=P0(a,c);return{type:2,Oka:R0(k),yR:S0(k),u_:T0(k),Component:Gcc(a.I,U0(({model:l,se:m,scale:n})=>{const p=Ncc(a.iqb,n),[q]=V0(()=>{const {document:r,G:t}=h.decode(f(l)).data;return d?{document:r,G:t,local:d(l)}:{document:r,G:t,local:void 0}});m=g(l,m);return I_(e,{data:q,We:p,scale:n,Ei:m})}))}};P0=function(a,b){return{kta:c=>({document:Occ(a,c),G:c.G.Jd}),t4:(c,d)=>a.iPb.t4(c,d),Xm:jbc(b),aHa:new Pcc}};
Lcc=function(a,b,c,d,e,f,g){const h=a.Yva(a.Q0,c,d).compile(e);return{type:0,Ix:k=>({La:f(h(b(k)))}),Oka:R0(g),yR:S0(g),u_:T0(g)}};Occ=function(a,b){return a.ob.wm.first(c=>c.app.id===b.G.Ec.app.id&&c.app.version===b.G.Ec.app.version)?.data??__c.FR.create(new Map)};R0=function(a){return W0(b=>{if((b=a.get(b.G))&&b.size!==0)return Array.from(b).map(c=>c.dia()).reduce((c,d)=>({width:Math.max(c.width,d.width),height:Math.max(c.height,d.height)}),{width:-Infinity,height:-Infinity})})};
S0=function(a){return W0(b=>(b=a.get(b.G))&&b.size!==0?Array.from(b).flatMap(c=>c.yR()):[])};T0=function(a){return(b,c)=>{a.add(b.G,c);return()=>a.remove(b.G,c)}};Pac=function(a){return{NK:a.NK,decode:Qcc(a.decode),encode:a.encode}};Qcc=function(a){const b=new WeakMap;return c=>{let d=b.get(c);d||(d=a(c),b.set(c,d));return d}};
Ucc=function(a){var b=a.Nqa;const c=a.mPb,d=a.jPb,e=a.gwa,f=a.Q0,g=a.I,h=a.ob,k=a.b9a,l=a.G7a;a=new Rcc(a.rn,h);const m=new Scc(h,b,f,e,g,a,c,d);b=new Tcc;k&&k.U8b(n=>{var p;(p=m.B_.get(n.G.Ec.app.id)?.metadata)?(n={document:Occ(m,n),G:n.G.Jd},p={type:p.type,name:typeof p.name==="function"?p.name(n):p.name}):p=void 0;return p});l&&l(n=>m.B_.get(n.G.Ec.app.id)?.metadata?.type);return{dca:m,iC:m,expr:b}};
Wcc=function(a,b){if(!a)return"Arial, Helvetica, sans-serif";const c=__c.br(a);a=b.find(d=>d.id===c.id&&d.version===c.version);switch(a?.name){case "Arimo":case "Arial":return"Arial, Helvetica, sans-serif";case "Times New Roman":return'"Times New Roman", Times, serif';case "Tahoma":return"Tahoma, Geneva, sans-serif";case "Trebuchet MS":return'"Trebuchet MS", Helvetica, sans-serif';case "Lucida Console":return'"Lucida Console", Monaco, monospace';case "Comic Sans":return'"Comic Sans MS", "Comic Sans", cursive, sans-serif';
case "Courier New OS":return'"Courier New", monospace';case "Georgia Pro":return"Georgia, serif";case "Verdana Pro":return"Verdana, Geneva, sans-serif";default:return a?.name?`${Vcc(a.name)}, ${"Arial, Helvetica, sans-serif"}`:"Arial, Helvetica, sans-serif"}};Vcc=function(a){a=a.replace(/["']/g,"");return/[\s,]/.test(a)?`"${a}"`:a};
Ycc=function(){({qh:a}={qh:[]});var a;return({text:b})=>{const c=Xcc(b,a);return I_("span",{style:{...c,display:"table-cell",width:"100%",height:"100%",verticalAlign:"middle",boxSizing:"border-box"},children:b.V})}};
Xcc=function(a,b){var c=q=>[...a.Wh(q)[q]].values().next().value??__c.Kf.Vb[q],d=c("font-family");b=Wcc(d,b);d=c("font-size");var e=c("color"),f=c("font-weight"),g=c("font-style"),h=c("decoration"),k=c("strikethrough"),l=c("direction"),m=c("text-align"),n=c("leading");c=c("tracking");const p=[];h==="underline"&&p.push("underline");k==="strikethrough"&&p.push("line-through");h=p.length>0?p.join(" "):"none";return{color:e,fontSize:`${d}px`,fontWeight:f,fontFamily:b,fontStyle:g==="italic"?"italic":"normal",
textDecoration:h,direction:l,textAlign:Zcc(l,m),lineHeight:`${$cc(n)}em`,letterSpacing:`${$cc(c)}em`}};Zcc=function(a,b){const c={start:"left",center:"center",end:"right",justify:"justify"};if(a!=="rtl")return c[b];switch(b){case "start":return"end";case "end":return"start";default:return c[b]}};$cc=function(a){if(!Number.isFinite(a))throw Error("Invalid milliEms value");return a/1E3};
adc=function(a){a.eP&&(a.eP(),a.eP=null);const b=a.props.Dpb;b.forEach(c=>{window.addEventListener(c,a.ZOa)});a.eP=()=>{b.forEach(c=>{window.removeEventListener(c,a.ZOa)})}};edc=function(a){const b=G_(function(c){const [{store:d,Ea:e}]=V0(()=>{const f=new bdc,g=new cdc(f);return{store:f,Ea:g}});return I_(ddc,{m9:e.reset,children:I_(__c.CVb,{Lwb:e,Mwb:d,U_a:a.qp.contains(c.url),children:({Bi:f})=>c.children({Bi:f})})})});return G_(c=>c.glb&&a.Sa?.status!==2?I_(b,{...c}):c.children({Bi:!1}))};
fdc=function(a){return U0(function(b){return I_("div",{className:"gcYy_A",children:I_(__c.Ww,{D5:"both",children:({width:c,height:d})=>I_(a.dj,{fill:b.fill,Ub:c,Gc:d,he:void 0,animation:void 0,nF:!1,ba:void 0,ia:void 0})})})})};
hdc=function(a){const b=a.Ra,c=a.Xha,d=e=>{e=__c.br(e);b.DD([e],{ku:!0});return __c.tr(b,e)};return U0(function(e){var f=e.fza;const g=e.fontWeight,h=e.cua,k=e.Jc,l=e.sta,m=e.ariaInvalid,n=e.className,p=e.disabled,q=e.id,r=e.name,t=e.onBlur,v=e.onFocus,w=e.onChange,z=e.placeholder,A=e.u6a,C=e.readOnly,B=e.type,D=e.value;e={color:e.ij,fontSize:e.fontSize,borderRadius:e.borderRadius,fontFamily:f&&d(f),fontWeight:g&&__c.hr(g)};[f]=V0(()=>c?.vub());return I_("div",{ref:f?.jm,className:"BHOPhg",children:I_("input",
{"aria-describedby":k,"aria-errormessage":l,"aria-invalid":m,className:gdc(n,["_6Yde8g",A&&"sR0SUA"]),disabled:p,id:q,name:r,onBlur:t,onFocus:v,onChange:w,placeholder:z,readOnly:C,type:B,value:D,style:{...e,"--srRiKA":A,"--oiOG3Q":h?.default,"--oGOcXA":h?.vg,"--UBd2ow":h?.focus}})})})};idc=function(){return()=>I_(__c.hV,{mediaType:"embed",failed:!1})};
jdc=function(a){return U0(function(b){return I_("div",{className:"oUJNhQ",children:I_(a.Xe,{text:b.text,animation:void 0,gd:"middle",oa:void 0,bb:void 0,kf:[],writingMode:1})})})};
kdc=function(a){const b=a.Ra,c=a.Xha,d=e=>{e=__c.br(e);b.DD([e],{ku:!0});return __c.tr(b,e)};return U0(function(e){var f=e.fza;const g=e.fontWeight,h=e.cua,k=e.Jc,l=e.sta,m=e.ariaInvalid,n=e.className,p=e.disabled,q=e.id,r=e.name,t=e.onBlur,v=e.onFocus,w=e.onChange,z=e.placeholder,A=e.u6a,C=e.readOnly,B=e.rows,D=e.value;e={color:e.ij,fontSize:e.fontSize,borderRadius:e.borderRadius,fontFamily:f&&d(f),fontWeight:g&&__c.hr(g)};[f]=V0(()=>c?.vub());return I_("div",{ref:f?.jm,className:"BHOPhg",children:I_("textarea",
{"aria-describedby":k,"aria-errormessage":l,"aria-invalid":m,className:gdc(n,["_6Yde8g",A&&"sR0SUA"]),disabled:p,id:q,name:r,onBlur:t,onFocus:v,onChange:w,placeholder:z,rows:B,readOnly:C,style:{...e,"--srRiKA":A,"--oiOG3Q":h?.default,"--oGOcXA":h?.vg,"--UBd2ow":h?.focus},value:D})})})};
__c.Xq.prototype.eca=__c.da(6,function(a,b){const c=this.$j.get(__c.Wq(a));if(c!=null){const e=this.n3.get(c);if(e!=null)return Promise.resolve({...c,element:e})}const d=__c.Wq(a);if(a=this.pending.get(d))return a;c!=null&&(b=async()=>{const e=await z$b(this,c);return{...c,element:e}});b=b().finally(()=>this.pending.delete(d));this.pending.set(d,b);return b});
__c.ls.prototype.eca=__c.da(5,function(a,b){var c=this.scenes.get(a);if(c)return Promise.resolve(c);if(c=this.pending.get(a))return c;b=b().finally(()=>this.pending.delete(a));this.pending.set(a,b);return b});__c.Bc.prototype.oQ=__c.da(3,function(a,b){this.console.error(...__c.Ac(this,"critical",a,b))});__c.dI.prototype.oQ=__c.da(2,function(a,b){this.Cv.oQ(a,b);__c.bI(this,a,"critical",b)});
var ldc=class{constructor(a){this.ref=a}},mdc=class{get ref(){return this.box.get()}constructor(a){this.box=a}},ndc=class{get ref(){return this.box.ref}set(){throw Error("cannot set unmodifiable box");}constructor(a){this.box=a}},I_=__webpack_require__(405148).jsx;var G_=__webpack_require__(371201).PA;var X0=__webpack_require__(227200),odc=X0.Component,U0=X0.memo,Fcc=X0.PureComponent,H_=X0.useCallback,V0=X0.useState;var Y0=__webpack_require__(186901),O0=Y0.EW,pdc=Y0.fm,qdc=Y0.h5,rdc=Y0.m3,Nac=Y0.mJ,Z0=Y0.sH,$0=Y0.XI;var W0=__webpack_require__(536618).iB;var sdc=__webpack_require__,tdc=sdc(208463),gdc=sdc.n_x(tdc)();var D_=class extends Error{constructor(a){a.code=a.code;const b=a.message.endsWith(".")?"":".";super(`[${a.code}]:  ${a.message}${b}`.trim());this.code=a.code;this.name="CanvaError";this.gGb=a.message;Object.setPrototypeOf(this,D_.prototype)}};var udc=class{constructor(a,b,c){this.handler=a;this.port=b;this.I=c;this.send=d=>{try{return this.port.postMessage(d),(0,__c.za)()}catch(e){return this.I.Lb(e),Aa(e)}};this.hDb=d=>{this.I.Lb(d)};this.DEa=({data:d})=>{if(d)try{this.handler.mGb(d)}catch(e){this.I.Lb(e)}else this.I.error(new D_({code:"internal_error",message:"missing data in 'MessageEvent'"}))};this.port.onmessage=this.DEa;this.port.onmessageerror=this.hDb}};var C$b=class extends Error{constructor(){super("[internal_error] Comms promise timed out.")}},I$b=class{reset(a){a&&(this.timeoutMs=a);this.setTimeout()}resolve(a){clearTimeout(this.Yd);this.kHb(a)}reject(a){clearTimeout(this.Yd);this.L7a(a)}promise(){return this.p}setTimeout(){clearTimeout(this.Yd);this.Yd=setTimeout(()=>{D$b(this)},Math.max(this.timeoutMs-500,500))}constructor(a){this.timeoutMs=a;this.p=new Promise((b,c)=>{this.kHb=b;this.L7a=c});this.setTimeout()}};var vdc=class{request(a,b){const c=this.j6a,d=new I$b(5E3),e=this.ZGb(),f=async function(){c.set(e,{path:a,aHb:d});try{const g=await d.promise();return(0,__c.za)(g)}catch(g){return g instanceof C$b?Aa(new D_({code:"internal_error",message:`Comms promise timed out (${a}).`})):Aa(g)}finally{c.delete(e)}}();b=this.send(e,a,b);b.ok||(this.I.Lb(b.error,{Oe:"unable to send request",tags:new Map([["type","request"],["path",a]])}),d.reject(b.error));return f}constructor(a,b){this.send=a;this.I=b;this.ZGb=
__c.Yq;this.j6a=new Map}};var wdc=class{handle(a,b){if(this.C_.has(a))throw new D_({code:"internal_error",message:`Handler for '${a}' is already defined.`});this.C_.set(a,b)}constructor(a,b){var c=console;this.K8=a;this.I=b;this.XGb=!0;this.Xob=c;this.C_=new Map;this.hrb=new Set}};var gac=class{constructor(a,b){this.request=(c,d)=>this.client.request(c,d);this.handle=(c,d)=>this.C_.handle(c,d);a=new xdc(c=>{switch(c.type){case "ack":case "error":case "response":var d=this.client;const e=c.requestId,f=c.type,{path:g,aHb:h}=d.j6a.get(e)||{};if(h)switch(f){case "response":h.resolve(c.payload);break;case "ack":h.reset(2E4);break;case "error":d.I.G2({level:"info",category:"sandbox_comms",message:"Error response received",data:{path:g??"unknown"}});h.reject(new D_({code:c.code,message:c.message}));
break;default:throw new E(c);}else f!=="ack"&&d.I.error("request has already been handled and resolved or was not sent from this client",{tags:new Map([["type",f],["requestId",`${e}`]])});break;case "request":F$b(this.C_,c);break;default:throw new E(c);}},a,b.Vf("bus"));this.client=new vdc(a.JB,b.Vf("client"));this.C_=new wdc(a,b.Vf("requestHandler"))}},xdc=class{constructor(a,b,c){this.xia=a;this.JB=(d,e,f)=>this.u3.send({type:"request",requestId:d,path:e,payload:f});this.sDb=d=>{switch(d.type){case "ack":this.xia({type:"ack",
requestId:d.requestId});break;case "error":this.xia({type:"error",requestId:d.requestId,code:d.code,message:d.message});break;case "response":this.xia({type:"response",requestId:d.requestId,payload:d.payload});break;case "request":this.xia({type:"request",requestId:d.requestId,path:d.path,payload:d.payload});break;default:throw new E(d);}};this.u3=new udc({mGb:this.sDb},b,c)}};var G$b={iMa:"null",d9a:"*"};var L$b="canva-dev.com canva-dev.cn canva-staging.com canva-staging.cn canva.com canva.cn canva-apps.com canva-apps.cn canva-apps-dev.com canva-apps-dev.cn canva-apps-staging.com canva-apps-staging.cn".split(" ");var W_=H(()=>({textContent:X(1),backgroundColor:X(2)}));var M$b=H(()=>({config:(0,__c.QI)(1,W_)}));var N$b=H(()=>({}));var P$b=H(()=>({mya:X(1)}));var Q$b=H(()=>({}));var R$b=H(()=>({mya:W(1),textContent:W(2)}));var S$b=H(()=>({}));var jac=class{constructor(a){this.CG=a}};var V_=H(()=>({type:__c.F("A?",3,"FONT_EDITABLE"),id:W(1),url:W(4)}));var U$b=H(()=>({config:X(1),Zya:__c.G(2,V_)}));var a1=H(()=>({type:__c.F("A?",1,"RECOLORABLE"),id:W(1),value:W(2)}));var ydc=H(()=>({borderRadius:DI(1),borderWidth:DI(2)}));var b1=H(()=>({type:__c.F("A?",2,"BORDERABLE"),id:W(1),value:__c.La(2,ydc)}));var zdc=H(()=>({id:W(1),value:W(2)}));var V$b=H(()=>({config:W(1),r_:Ma(4,a1),Pkb:Ma(5,b1),Vpb:Ma(6,zdc)}));var X$b=__c.Za(()=>({type:[1,a1,2,b1,3,V_]}),()=>({}));var Y$b=H(()=>({config:W(1)}));var $$b=H(()=>({id:W(1),value:W(2)}));var aac=H(()=>({config:W(1)}));var cac=H(()=>({config:W(1),r_:Ma(4,a1),Pkb:Ma(5,b1),Zya:__c.G(6,V_),Vpb:Ma(7,zdc)}));var dac=H(()=>({}));var Adc=H(()=>({scrollWidth:DI(1),scrollHeight:DI(2),offsetWidth:DI(3),offsetHeight:DI(4)}));var eac=H(()=>({body:__c.La(1,Adc)}));var hac=class{constructor(a){this.CG=a}};var lac=H(()=>({}));var Bdc=H(()=>({wVb:W(1),Zd:W(2)}));var mac=H(()=>({Hi:X(1),Nl:X(2),Rbc:__c.G(3,Bdc)}));var oac=class{constructor(a){this.I=a;this.Dmb=(b,c)=>{b.addEventListener("load",async()=>{const {CG:d,$pb:e}=await iac(b,this.I),{aqb:f,oob:g}=c(e);fac(d,f);nac(d,g)})};this.Cmb=(b,c)=>{b.addEventListener("load",async()=>{const {CG:d,emitter:e}=await kac(b,this.I),f=c(e);T$b(d,f)})}}};var Cdc=Object.freeze({empty:!0,count(){return 0},toArray(){return[]},ql(){return new Map},first(){},last(){},next(){J_()},previous(){J_()},Me(){J_()},Yv(){J_()},has(){return!1},vp(){return this},map(){return[]},flatMap(){return[]},filter(){return[]},forEach(){},reduce(a,b){return b},some(){return!1},every(){return!0},[Symbol.iterator](){return[][Symbol.iterator]()}});var Ddc;Ddc=Symbol.iterator;
var Q0=class{static D(a){M(a,{Em:O0,Lq:O0})}get Em(){return this.Sjb().map(a=>{let b=this.vZa.get(a);b==null&&(b=`${this.Gvb++}`,this.vZa.set(a,b));return{id:b,ref:a}})}get Lq(){const a=new Map;this.Em.forEach((b,c)=>b&&a.set(b.ref,c));return a}tk(a){return y(this.Lq.get(a),"ref not found")}get empty(){return!this.Em.length}count(){return this.Em.length}toArray(){return this.Em.map(a=>a.ref)}ql(){return new Map(this.map((a,b)=>[b,a]))}get fR(){return this.Em[0]?.ref}get lS(){return this.Em[this.Em.length-1]?.ref}first(a){return a?
this.Em.find(b=>a(b.ref))?.ref:this.fR}last(a){if(!a)return this.lS;const b=this.Em;for(let c=b.length-1;c>=0;c--){const d=b[c];if(a(d.ref))return d.ref}}next(a,b){const c=this.Em;for(a=this.tk(a)+1;a<c.length;a++){const d=c[a];if(!b||b(d.ref))return d.ref}}previous(a,b){const c=this.Em;for(a=this.tk(a)-1;a>=0;a--){const d=c[a];if(!b||b(d.ref))return d.ref}}Me(a,b){a=this.Lq.get(a);b=this.Lq.get(b);u(a!=null);u(b!=null);return a<b?-1:a>b?1:0}Yv(a){return this.Em[this.tk(a)].id}has(a){return this.Lq.has(a)}vp(a){return new __c.aK(this,
a)}map(a){return this.Em.map(({ref:b,id:c})=>a(b,c))}flatMap(a){return this.Em.flatMap(({ref:b,id:c})=>a(b,c))}filter(a){return this.Em.filter(b=>a(b.ref,b.id)).map(b=>b.ref)}forEach(a){this.Em.forEach((b,c)=>a(b.ref,b.id,c))}reduce(a,b){return this.Em.reduce((c,d)=>a(c,d.ref,d.id),b)}some(a){return this.Em.some(b=>a(b.ref,b.id))}every(a){return this.Em.every(b=>a(b.ref,b.id))}[Ddc](){return this.toArray()[Symbol.iterator]()}constructor(a){this.Sjb=a;this.Gvb=(Q0.D(this),0);this.vZa=new WeakMap}};var Edc;Edc=Symbol.iterator;
var rac=class{static D(a){M(a,{w8:O0})}get w8(){const a=new Map;this.base.forEach(b=>a.set(this.jg(b),b));return a}qu(a){return y(this.w8.get(a))}vZ(a){return a!=null?this.jg(a):void 0}get empty(){return this.base.empty}count(){return this.base.count()}toArray(){return this.base.toArray().map(this.jg)}ql(){return Sc(this.base.ql(),this.jg)}[Edc](){return this.toArray()[Symbol.iterator]()}first(a){return this.vZ(this.base.first(a&&(b=>a(this.jg(b)))))}last(a){return this.vZ(this.base.last(a&&(b=>a(this.jg(b)))))}next(a,
b){return this.vZ(this.base.next(this.qu(a),b&&(c=>b(this.jg(c)))))}previous(a,b){return this.vZ(this.base.previous(this.qu(a),b&&(c=>b(this.jg(c)))))}Me(a,b){return this.base.Me(this.qu(a),this.qu(b))}Yv(a){return this.base.Yv(this.qu(a))}has(a){return this.base.has(this.qu(a))}set(a,b){return this.jg(this.base.set(a,this.bI(b)))}replace(a,b){return this.jg(this.base.replace(this.qu(a),this.bI(b)))}append(a){return this.jg(this.base.append(this.bI(a)))}prepend(a){return this.jg(this.base.prepend(this.bI(a)))}KH(a,
b){return this.jg(this.base.KH(a&&this.qu(a),this.bI(b)))}insertBefore(a,b){return this.jg(this.base.insertBefore(a&&this.qu(a),this.bI(b)))}$D(a,b){return this.base.$D(a&&this.qu(a),b.map(this.bI)).map(this.jg)}delete(a){this.base.delete(this.qu(a))}bA(a){this.base.bA(a&&(b=>a(this.jg(b))))}Sq(a,b){this.base.Sq(a&&this.qu(a),this.qu(b))}vp(a){return new __c.aK(this,a)}map(a){return this.base.map((b,c)=>a(this.jg(b),c))}flatMap(a){return this.base.flatMap((b,c)=>a(this.jg(b),c))}filter(a){return this.base.filter((b,
c)=>a(this.jg(b),c)).map(this.jg)}forEach(a){this.base.forEach((b,c)=>a(this.jg(b),c))}reduce(a,b){return this.base.reduce((c,d)=>a(c,this.jg(d)),b)}some(a){return this.base.some(b=>a(this.jg(b)))}every(a){return this.base.every(b=>a(this.jg(b)))}constructor(a,b,c){this.base=a;this.bI=b;this.jg=c;rac.D(this)}};var Fdc,Gdc=class{get value(){return this.box.get()}constructor(a,b){this.id=a;this.box=b}};Fdc=Symbol.iterator;
var N0=class{static D(a){M(a,{Lq:O0,fR:O0,lS:O0})}get Lq(){const a=new Map;this.cells.forEach((b,c)=>a.set(b.value,c));return a}tk(a){return y(this.Lq.get(a),"ref not found")}get empty(){return!this.cells.length}count(){return this.cells.length}toArray(){return this.cells.map(a=>a.value)}ql(){return new Map(this.map((a,b)=>[b,a]))}get fR(){return this.cells[0]?.value}get lS(){return this.cells[this.cells.length-1]?.value}first(a){return a?this.cells.find(b=>a(b.value))?.value:this.fR}last(a){if(!a)return this.lS;
const b=this.cells;for(let c=b.length-1;c>=0;c--){const d=b[c];if(a(d.value))return d.value}}next(a,b){const c=this.cells;for(a=this.tk(a)+1;a<c.length;a++){const d=c[a];if(d&&(!b||b(d.value)))return d.value}}previous(a,b){const c=this.cells;for(a=this.tk(a)-1;a>=0;a--){const d=c[a];if(d&&(!b||b(d.value)))return d.value}}Me(a,b){a=this.Lq.get(a);b=this.Lq.get(b);u(a!=null);u(b!=null);return a<b?-1:a>b?1:0}Yv(a){return this.cells[this.tk(a)].id}has(a){return this.Lq.has(a)}vp(a){return new __c.aK(this,
a)}map(a){return this.cells.map(b=>a(b.value,b.id))}flatMap(a){return this.cells.flatMap(b=>a(b.value,b.id))}filter(a){return this.cells.filter(b=>a(b.value,b.id)).map(b=>b.value)}forEach(a){this.cells.forEach(b=>a(b.value,b.id))}reduce(a,b){return this.cells.reduce((c,d)=>a(c,d.value,d.id),b)}some(a){return this.cells.some(b=>a(b.value,b.id))}every(a){return this.cells.every(b=>a(b.value,b.id))}[Fdc](){return this.toArray()[Symbol.iterator]()}constructor(a){this.cells=(N0.D(this),void 0);this.cells=
a.map((b,c)=>new Gdc(String(c),b))}};var Yac=__c.K_()(()=>({IUb({BK:a,Lkb:b,version:c},d,e){e=e&&{fonts:L_("font",e.fonts),media:L_("media",e.media),Bd:L_("video",e.Bd),embeds:L_("embed",e.embeds)};return{data:{G:{BK:a,nv:{domain:"resource",resource:{ref:{type:"blueprint",id:b,version:c},resources:e}},type:"instance",ue:void 0},document:{}},O:d}}})),Hdc=({resource:a,PC:b})=>{const c=pdc(()=>{B$b(b,a.ref.ref)});return{La:new Q0(()=>{const d=A$b(b,a.ref.ref);return d?(__c.x(d.type==="group","Expected group element"),d.La.filter(__c.mb).map(e=>
__c.PG.create({...e,locked:!0,lg:!0}))):[]}),Rm:c}},ebc=__c.C_()(({oi:{PC:a}})=>({metadata:{type:"blueprint",name:__c.K("iAtEVw")},G:{type:0,Ix:({G:b})=>Hdc({resource:b.nv.resource,PC:a})},exports:{}}));c1=__c.c1=class{};c1.val=(a,b)=>S_(0,0,()=>b)(a);c1.qx=a=>{var b=__c.d1;return S_(1,0,()=>b)(a)};c1.ref=(a,b)=>S_(0,0,()=>b)(a);c1.XDb=()=>{var a=__c.d1;return S_(1,1,()=>a)(1)};c1.Z4a=(a,b)=>S_(0,1,()=>b)(a);c1.dpa=S_(0,0,M_);c1.BVa=S_(0,0,uac);c1.eh=S_(0,0,O_);c1.fz=S_(1,0,M_);c1.hRa=S_(1,0,tac);c1.LCa=S_(1,0,O_);c1.bE=S_(1,0,N_);c1.sQa=S_(1,0,vac);c1.pw=S_(1,1,M_);c1.bma=S_(1,1,tac);c1.Hy=S_(1,1,uac);c1.aEb=S_(1,1,N_);c1.DE=S_(1,1,O_);c1.WDb=S_(1,1,vac);c1.Mm=S_(0,0,P_);c1.listRef=S_(0,0,Q_);
c1.bVa=S_(0,0,function(a){return{kind:9,itemType:a}});c1.IGa=S_(0,0,R_);c1.RNb=S_(0,0,wac);c1.$Db=S_(0,1,P_);c1.bEb=S_(0,1,R_);c1.nua=S_(1,0,R_);c1.YDb=S_(1,1,P_);c1.ZDb=S_(1,1,Q_);c1.Y4a=S_(1,1,R_);c1.ybb=M_;c1.Jwb=N_;c1.q7=P_;c1.V0a=Q_;c1.Pg=R_;c1.V0=wac;c1.WBb=T_({});var yac=Object.freeze({document:Object.freeze({}),G:Object.freeze({})});var Qac=__c.U_({G:T_({BK:c1.dpa(1),nv:c1.IGa(2,{domain:c1.eh(1,"resource"),resource:c1.nua(2,{ref:c1.Mm(2,"BlueprintRef"),resources:c1.bEb(3,{fonts:c1.listRef(1,c1.q7("FontRef")),media:c1.listRef(2,c1.q7("MediaRef")),Bd:c1.listRef(3,c1.q7("VideoRef")),embeds:c1.listRef(5,c1.q7("EmbedRef"))})})})})});var Idc=class{constructor(){this.hX={It:!1,qJ:!1,BG:!1,UG:!1}}};var Jdc=class{create(a){switch(a.type){case "rect":return this.e.classes.Z1.create({},{U:{fill:Fac(this,a.fill)},attributes:Hac(this,a)});default:const b=__c.IR.snapshot(a);return __c.IR.create({...b,locked:!0,lg:!0,Yi:Bac(this.h1a,a)})}}constructor(a,b){this.e=a;this.ue=b;this.h1a=new Idc}};var Kdc=class{constructor(a){this.ue=a}};var Zac=__c.K_()(()=>({MUb({BK:a,Lkb:b,type:c},d){return{data:{G:{BK:a,nv:{domain:"document",id:b,version:1,Eb:c==="source"?{type:c}:{type:c,ue:new Map}}},document:{}},O:d}}})),Ldc=({data:a,rG:b,expr:c})=>{b=b.$rb(a.BK);if(!b)throw Error(`Blueprint set ${a.BK} not found`);const d=b.$j.get(a.nv.id);if(!d)throw Error(`Blueprint ${a.nv.id} not found in blueprint set ${a.BK}`);if(a.nv.Eb.type==="source")return{La:d.elements};const e=new Jdc(c,new Kdc(a.nv.Eb.ue));return{La:c.list(()=>d.elements.map(f=>
e.create(f)))}},fbc=__c.C_()(({aQ:{expr:a},oi:{rG:b}})=>({metadata:{type:void 0,name:void 0},G:{type:0,Ix:({G:c})=>Ldc({data:c,rG:b,expr:a})},exports:{}}));var Mdc=c1.V0({type:void 0},c1.Pg({type:c1.eh(1,"anchoring"),value:c1.LCa(2,1,2,3)}),c1.Pg({type:c1.eh(1,"boolean"),value:c1.bma(2)}),c1.Pg({type:c1.eh(1,"block_alignment"),value:c1.Hy(2)}),c1.Pg({type:c1.eh(1,"non-negative-double"),value:c1.Hy(2)}),c1.Pg({type:c1.eh(1,"double"),value:c1.Hy(2)}),c1.Pg({type:c1.eh(1,"string"),value:c1.pw(2)}),c1.Pg({type:c1.eh(1,"richtext2"),value:c1.Mm(2,"Richtext2")}),c1.Pg({type:c1.eh(1,"text_anchor"),value:c1.LCa(2,1,2,3)}),c1.Pg({type:c1.eh(1,"text_effects"),
value:c1.pw(2)}),c1.Pg({type:c1.eh(1,"text_flow"),value:c1.pw(2)}),c1.Pg({type:c1.eh(1,"image_fill"),value:c1.Mm(2,"Fill")}),c1.Pg({type:c1.eh(1,"video_fill"),value:c1.Mm(2,"Fill")}));var Ndc=c1.Pg({type:c1.eh(1,"source")}),Odc=c1.Pg({type:c1.eh(1,"instance"),ue:c1.bVa(2,Mdc)}),Rac=__c.U_({G:T_({BK:c1.dpa(1),nv:c1.IGa(2,{domain:c1.eh(1,"document"),id:c1.dpa(2),version:c1.bE(3),Eb:c1.RNb(4,{type:void 0},Ndc,Odc)})})});var Pdc=class{static D(a){M(a,{Nl:Z0.ref})}constructor(a){this.Nl=(Pdc.D(this),void 0);this.Nl=a}},Wac=__c.K_()(()=>({LUb(a,b){return{data:{G:{nva:{type:"embed",id:a,version:0},hmb:b,config:void 0,vXa:void 0},document:{}},O:{width:1366,height:768}}}}));var Qdc=class{};var Rdc=class{static D(a){M(a,{fRa:Z0.ref})}get Ne(){return this.fRa}constructor(a,b){this.config=a;this.Ra=b;this.Tn=(Rdc.D(this),void 0);this.TM=(c,d,e)=>{this.Tn?.();this.Tn=void 0;const f=m=>Z$b(e,new a1(m)),g=this.Ra,h=g?m=>Lac(g,e,m):void 0,k=m=>bac(e,new $$b(m)),l={$ub:m=>{this.config.BX?.qeb(m,c,f,h,k);return new dac},Uub:$0(m=>{this.fRa=m.body})};this.Tn=Nac(()=>c.config,async m=>{const n=await W$b(e,{config:m,Zya:void 0});n.config&&n.config!==m&&this.config.BX?.qeb(n,c,f,h,k)});Mac(this,
c,e,f,h,k);return{aqb:l,oob:{Qub:()=>new mac({Hi:d.page?.container?.id,Nl:d.Nl})}}};this.Fy=()=>{this.Tn?.()}}};var Sac=__c.U_({G:T_({nva:c1.Mm(1,"EmbedRef"),hmb:c1.dpa(35),config:c1.pw(29),vXa:c1.ZDb(6,c1.q7("FontRef"))})});var gbc=__c.C_()(({oi:a})=>{const b=a.ira,c=a.Ra,d=new Qdc;return{metadata:{type:void 0,name:void 0},r4:()=>new Pdc(void 0),G:__c.B_(G_(({data:{G:e,local:f},We:{uca:g},Ei:h})=>{qdc(()=>{f.Nl=h.Nl});const [k]=V0(()=>new Rdc(d,c)),l=H_(m=>k.TM(e,h,m),[e,k,h]);return I_("div",{style:{minHeight:k.Ne?.scrollHeight??h.O.height},className:"fVbdNA",children:I_(g,{url:e.nva.id,children:({Bi:m})=>I_(b,{url:e.nva.id,Bi:m,TM:l,Fy:k.Fy})})})})),exports:{config:d}}});var Tac=__c.U_({G:T_({WC:c1.nua(1,T_({ova:c1.Mm(1,"EmbedRef"),config:c1.bVa(2,c1.Pg({textContent:c1.pw(1),backgroundColor:c1.pw(2,/^#[0-9a-f]{6}$/)}))}))})}),Xac=__c.K_()(()=>({KUb(a,b){return{data:{G:{WC:{ova:{type:"embed",id:a,version:0},config:b}},document:{}},O:{width:1366,height:768}}}})),Sdc=class{};var Tdc=class{dispose(){this.Tn?.();this.Tn=void 0}constructor(a){this.config=a;this.TM=(b,c)=>{this.dispose();this.Tn=Oac(b,c);return{Zub:d=>{this.config.BX?.Y6b(b,d.mya);return new Q$b},avb:d=>{this.config.BX?.e7b(b,d.mya,d.textContent);return new S$b}}};this.Fy=()=>{this.dispose()}}};var hbc=__c.C_()(({oi:a})=>{const b=a.jra,c=new Sdc;return{metadata:{type:void 0,name:void 0},G:__c.B_(G_(({data:{G:d},We:{uca:e}})=>{const [f]=V0(()=>new Tdc(c)),g=H_(h=>f.TM(d.WC.ref,h),[d.WC.ref,f]);return I_(e,{url:d.WC.ref.ova.id,children:({Bi:h})=>I_(b,{url:d.WC.ref.ova.id,Bi:h,TM:g,Fy:f.Fy})})})),exports:{configuration:c}}});var k0=class{static of(a,b,c){return new k0(a,b,c)}map(a){return a(this)}constructor(a,b,c){this.qma=a;this.resultType=b;this.apply=c}},Vdc=class{map(a){return a(this)}constructor(a,b){var c=Udc;this.Njb=a;this.resultType=b;this.apply=c}},e1=class{map(a){return a(this)}constructor(a,b,c){this.XEb=a;this.resultType=b;this.apply=c}},Xdc=class{map(a){return a(this)}constructor(a,b,c){var d=Wdc;this.keyType=a;this.valueType=b;this.resultType=c;this.apply=d}},mbc=class{map(a){return a(this)}constructor(a,
b,c,d){this.itemType=a;this.fkb=b;this.resultType=c;this.reduce=d}};var rbc=class{map(a){return a(this)}constructor(a,b){this.type=a;this.get=b}};__c.Ydc=obc(4);__c.f1=obc(6);__c.Zdc=pbc(5);__c.g1=pbc(0);var $dc=class{},Ebc=class extends $dc{Uta(a){return new Ebc(a(this.value))}Xya(a){return a(this.value)}constructor(a){super();this.value=this.value=a}},Fbc=class extends $dc{Uta(a,b){return new Fbc(b(this.value))}Xya(a,b){return b(this.value)}constructor(a){super();this.value=this.value=a}};var p0=class{map(a){return a(this)}},h1=class extends p0{xBa(a){return this===a||a.yJa(b=>this.v7(b))}hS(){throw Error(`${this} is not iterable`);}LDa(a){const b=this.propTypes??(this.propTypes=this.ska());if(!b)throw Error(`${this} is not navigable"`);if(!b.hasOwnProperty(a))throw Error(`${this} has no navigable property "${a}"`);return b[a]}ska(){throw Error(`${this} is not navigable`);}iza(a){a(this)}yJa(a){return a(this)}constructor(){super();this.kind="simple";this.propTypes=void 0}},i1=class extends h1{v7(a){return a instanceof
i1&&this.name===a.name}toString(){return this.name}constructor(a){super();this.name=a}},j1=class extends h1{v7(a){return a instanceof j1&&this.lp===a.lp}toString(){return this.lp.name}constructor(a){super();this.lp=a}},k1=class extends h1{v7(a){return a instanceof k1&&this.lp===a.lp&&o0(this.arg,a.arg)}toString(){return`${this.lp}<${this.arg}>`}constructor(a,b){super();this.lp=a;this.arg=b}},aec=class extends k1{hS(){return this.arg}ska(){const a=this.arg;return{size:y0.number,empty:y0.Yg,get first(){return y0.optional(a)}}}constructor(a){super("array",
a)}},bec=class extends k1{hS(){return this.arg}ska(){const a=this.arg;return{size:y0.number,empty:y0.Yg,get first(){return y0.optional(a)}}}constructor(a){super("set",a)}},cec=class extends h1{v7(a){return a instanceof cec&&o0(this.key,a.key)&&o0(this.value,a.value)}toString(){return`map<${this.key}, ${this.value}>`}constructor(a,b){super();this.key=a;this.value=b}},dec=class extends h1{v7(a){return a instanceof dec?Object.entries(a.fields).every(([b,c])=>this.fields.hasOwnProperty(b)&&o0(this.fields[b],
c)):!1}ska(){return this.fields}toString(){const a=Object.entries(this.fields);return a.length?`{ ${a.map(([b,c])=>`${b}: ${c}`).join(", ")} }`:"{}"}constructor(a){super();this.fields=a}},l1=class extends p0{xBa(a){return this===a||this.sg.every(b=>b.xBa(a))}hS(){return y0.union(...this.sg.map(a=>a.hS()))}LDa(a){return y0.union(...this.sg.map(b=>b.LDa(a)))}iza(a){this.sg.forEach(b=>b.iza(a))}yJa(a){return this.sg.some(b=>b.yJa(a))}toString(){return this.sg.length?this.sg.map(a=>a.toString()).join(" | "):
"never"}constructor(a){super();this.sg=a;this.kind="disjunction";u(a.length!==1)}},m1=new l1([]),eec=new i1("string"),fec=new i1("number"),gec=new i1("boolean"),hec=new i1("undefined"),iec=new l1([eec,fec,gec]),jec=class{get never(){return m1}get string(){return eec}get number(){return fec}get Yg(){return gec}get undefined(){return hec}get primitive(){return iec}optional(a){return y0.union(a,y0.undefined)}array(a){return new aec(a)}set(a){return new bec(a)}KW(a){return new l1([new aec(a),new bec(a)])}map(a,
b){return new cec(a,b)}Qb(a){return new dec({...a})}union(...a){if(a.length===0)return m1;if(a.length===1)return a[0];const b=new Set;for(const d of a)qbc(d).iza(e=>b.add(e));a=[...b];if(a.length===0)return m1;if(a.length===1)return a[0];if(a.length===2){const [d,e]=a;return o0(d,e)?e:o0(e,d)?d:new l1(a)}const c=new Set;for(const d of a)[...c].some(e=>o0(d,e))||(c.forEach(e=>o0(e,d)&&c.delete(e)),c.add(d));return c.size===1?[...c][0]:new l1([...c])}constructor(){this.optional=q0(this.optional);this.array=
q0(this.array);this.set=q0(this.set);this.KW=q0(this.KW)}},kec=class extends jec{instance(a){return new j1(a)}},y0=new kec,lec=class extends jec{instance(a){return new j1(y(this.classes[a]))}constructor(a){super();this.classes=a}};var mec,nec,n1=Symbol("value"),o1=class{get props(){return this.Uib??(this.Uib=this.uta())}},oec=class{get size(){return this[n1].length}get empty(){return this[n1].length===0}get first(){return this[n1][0]}constructor(a){this[n1]=a}};mec=Symbol.iterator;
var pec=class extends o1{uta(){return new oec(this.items)}map(a){return this.items.map(a)}[mec](){return this.items[Symbol.iterator]()}toString(){return this.items.length?`[${Array.from(this.items,t0).join(", ")}]`:"[]"}constructor(a){super();this.kind="array";this.items=[...a]}},qec=class{get size(){return this[n1].size}get empty(){return this[n1].size===0}get first(){return this[n1][Symbol.iterator]().next().value}constructor(a){this[n1]=a}};nec=Symbol.iterator;
var rec=class extends o1{uta(){return new qec(this.items)}map(a){return Array.from(this.items,a)}[nec](){return this.items[Symbol.iterator]()}toString(){return this.items.size?`Set [${Array.from(this.items,t0).join(", ")}]`:"Set []"}constructor(a){super();this.kind="set";this.items=new Set(a)}},sec=class{toString(){return this.items.size?`Map {${Array.from(this.items,([a,b])=>`[${t0(a)}]: ${t0(b)}`).join(", ")}}`:"Map {}"}constructor(a){this.items=a;this.kind="map"}},tec=class extends o1{uta(){return this.fields}toString(){const a=
Object.entries(this.fields);return a.length?`{ ${[...a].map(([b,c])=>`${b}: ${t0(c)}`).join(", ")} }`:"{}"}constructor(a){super();this.fields=a;this.kind="record"}},uec=class{toString(){return`[instance ${this.lp.name}]`}constructor(a,b){this.lp=a;this.instance=b;this.kind="instance"}},vec=class{array(a){return new pec(a)}arrayOf(...a){return new pec(a)}set(a){return new rec(a)}map(a){return new sec(new Map(a))}Qb(a){return new tec({...a})}},wec=class extends vec{instance(a,b){return new uec(a,b)}stringify(a){return t0(a)}constructor(){super();
this.jh=s0}},C0=new wec,xec=class extends vec{instance(a,b){a=y(this.classes[a]);return new uec(a,b)}constructor(a){super();this.classes=a}};var Dbc={[0]:l0(y0.number,y0.number,a=>-a),[1]:l0(y0.string,y0.number,a=>a.length),[2]:l0(y0.Yg,y0.Yg,a=>!a),[3]:m0(y0.number,y0.number,y0.number,(a,b)=>a+b),[4]:m0(y0.number,y0.number,y0.number,(a,b)=>a-b),[5]:m0(y0.number,y0.number,y0.number,(a,b)=>a*b),[6]:m0(y0.number,y0.number,y0.number,(a,b)=>a/b),[7]:m0(y0.number,y0.number,y0.number,(a,b)=>a%b),[8]:m0(y0.string,y0.string,y0.string,(a,b)=>a+b),[9]:m0(y0.number,y0.number,y0.Yg,(a,b)=>a===b),[10]:m0(y0.number,y0.number,y0.Yg,(a,b)=>a!==b),[11]:m0(y0.number,
y0.number,y0.Yg,(a,b)=>a<b),[12]:m0(y0.number,y0.number,y0.Yg,(a,b)=>a<=b),[13]:m0(y0.number,y0.number,y0.Yg,(a,b)=>a>b),[14]:m0(y0.number,y0.number,y0.Yg,(a,b)=>a>=b),[15]:m0(y0.Yg,y0.Yg,y0.Yg,(a,b)=>a&&b),[16]:m0(y0.Yg,y0.Yg,y0.Yg,(a,b)=>a||b)},Ibc={[2]:new e1(y0.number,y0.number,a=>a.reduce((b,c)=>b+c,0)),[3]:new e1(y0.number,y0.number,a=>a.reduce((b,c)=>b*c,1)),[4]:new e1(y0.number,y0.number,a=>Math.max(...a)),[5]:new e1(y0.number,y0.number,a=>Math.min(...a)),[6]:new e1(y0.string,y0.string,a=>
a.join(""))},yec=a=>C0.array(a),zec=a=>C0.set(a),Gbc={[0]:a=>new e1(a,y0.array(a),yec),[1]:a=>new e1(a,y0.set(a),zec)},Wdc=a=>C0.map(a),ubc={[0]:(a,b)=>new Xdc(a,b,y0.map(a,b))},Udc=a=>C0.Qb(a),Lbc={[0]:a=>new Vdc(a,y0.Qb(a))},Aec=(a,b)=>C0.array(b.map(c=>c())),Bec=(a,b)=>C0.array(b.flatMap(c=>c().items)),Cec=(a,b)=>C0.array(a.filter((c,d)=>b[d]()).map(c=>c())),Dec=(a,b)=>b.some(c=>c()),Eec=(a,b)=>b.every(c=>c()),Fec=(a,b)=>a.find((c,d)=>b[d]())?.(),wbc={[0]:(a,b)=>b.map(c=>n0(a,c,y0.array(c),Aec)),
[1]:(a,b)=>b.hS().map(c=>n0(a,y0.array(c),y0.array(c),Bec)),[2]:a=>n0(a,y0.Yg,y0.array(a),Cec),[3]:a=>n0(a,y0.Yg,y0.Yg,Dec),[4]:a=>n0(a,y0.Yg,y0.Yg,Eec),[5]:a=>n0(a,y0.Yg,y0.optional(a),Fec)};var v0=class{define(a,b){return new v0(new Map([[a,b]]),this)}resolve(a){const b=this.defs.get(a);if(b)return b;if(this.parent)return this.parent.resolve(a);throw Error(`undefined symbol: "${a}"`);}constructor(a,b){this.defs=a;this.parent=b}};var Hec=(a,b,c)=>{const d=u0.create(b.NK),e=new Gec(a);return{compile:f=>{const g=Abc(e,d,f).as(c);return h=>{h=new v0(new Map(b.decode(h).zHa));return g(h)}}}},u0=class{static create(a){return new u0(new v0(new Map(a)),new v0(new Map))}constructor(a=new v0(new Map),b=new v0(new Map)){this.vars=a;this.f6=b}},Gec=class{constructor(a){this.types=a}},A0=class{static of(a,b){return new A0(a,b)}as(a){if(!o0(this.type,a))throw Error(`type ${this.type} does not match expected type: ${a}`);return this.evaluate}computed(){const a=
this.evaluate;return new A0(this.type,b=>{const c=O0(a(b),{equals:C0.jh});return()=>c.get()})}map(a){return a(this.type,this.evaluate)}constructor(a,b){this.type=a;this.evaluate=b}},Wbc=class{as(a,b){const c=this.qma,d=this.resultType;if(a.length<c.length)throw Error(`Target signature provides too few arguments. Expected ${c.length} or more, got ${a.length}.`);for(let e=0;e<c.length;e++)if(!o0(a[e],c[e]))throw Error(`Types of parameter ${e} are incompatible.  Type ${a[e]} is not assignable to parameter type: ${c[e]}`);
if(!o0(d,b))throw Error(`return type ${d} is not assignable to expected type: ${b}`);return this.evaluate}map(a){return a(this)}constructor(a,b,c){this.qma=a;this.resultType=b;this.evaluate=c}};var Ccc=class{add(a){a=a(Iec,this.types);return new Ccc({...this.classes,...a})}resolve(a){return this.classes[a]}evaluate(a){const b=this.types;switch(a.kind){case 0:switch(a.name){case "string":return b.string;case "number":return b.number;case "boolean":return b.Yg;case "undefined":return b.undefined;default:throw new E(a);}case 1:return b.instance(a.name);case 4:switch(a.name){case "array":return b.array(this.evaluate(a.qQa));case "set":return b.set(this.evaluate(a.qQa));default:throw new E(a);
}case 5:switch(a.name){case "map":const c=this.evaluate(a.qQa);a=this.evaluate(a.TSb);if(!o0(c,b.primitive))throw Error(`key type is not a primitive: ${c}`);return b.map(c,a);default:throw new E(a);}case 3:return b.union(...a.args.map(c=>this.evaluate(c)));case 2:return b.Qb(le(a.args,c=>this.evaluate(c)));default:throw new E(a);}}constructor(a){this.classes=a;this.types=new lec(this.classes);this.values=new xec(this.classes)}},Iec=class{constructor(a,b,c){this.name=a;this.create=c;this.JBb=new k0([y0.Qb(b)],
y0.instance(this),d=>C0.instance(this,c(d.fields)))}};var Jec;Jec=Symbol.iterator;
var Xbc=class{static D(a){M(a,{w8:O0})}get w8(){const a=new Map;this.base.forEach(b=>a.set(this.jg(b),b));return a}qu(a){return y(this.w8.get(a))}vZ(a){return a!=null?this.jg(a):void 0}get size(){return this.base.size}get(a){a=this.base.get(a);return this.vZ(a)}has(a){return this.base.has(a)}forEach(a){this.base.forEach((b,c)=>a(this.jg(b),c))}map(a){return this.base.map((b,c)=>a(this.jg(b),c))}set(a,b){return this.jg(this.base.set(a,this.bI(b)))}every(a){return this.base.every((b,c)=>a(this.jg(b),
c))}delete(a){this.base.delete(a)}entries(){return Zbc(this.base.entries(),([a,b])=>[a,this.jg(b)])}keys(){return this.base.keys()}values(){return Zbc(this.base.values(),this.jg)}[Jec](){return this.ql()[Symbol.iterator]()}ql(){return Sc(this.base.ql(),this.jg)}constructor(a,b,c){this.base=a;this.bI=b;this.jg=c;Xbc.D(this)}};var p1=class{wL(a){return new Kec(this,a)}W5(a){return new Lec(this,a)}jR(a){return new Mec(this,a)}toString(){return this.s??(this.s=this.x8())}},lcc=class extends p1{wL(a){return new Nec(a)}W5(){throw Error();}jR(){throw Error();}x8(){return"(global)"}},Nec=class extends p1{x8(){return this.name}constructor(a){super();this.name=a}},Kec=class extends p1{x8(){return`${this.parent}.${this.name}`}constructor(a,b){super();this.parent=a;this.name=b}},Lec=class extends p1{x8(){return`${this.parent}["${this.key}"]`}constructor(a,
b){super();this.parent=a;this.key=b}},Mec=class extends p1{x8(){return`${this.parent}[${this.index}]`}constructor(a,b){super();this.parent=a;this.index=b}},kcc=class{error(a,b){return Error(`widget '${this.lPb}': schema error on key '${a}': ${b}`)}constructor(a){this.lPb=a}},occ={string:"string",boolean:"boolean",double:"number",int32:"number",list:"object",dict:"object",ref:"object",fill:"object",stroke:"object",text2:"object"},fcc=new Set(["string","boolean","int32"]),pcc={font:"font",media:"media",
video:"video",audio:"audio",embed:"embed",scene:"scene",blueprint:"blueprint"};var Tcc,vcc,H0,Oec,Pec;__c.q1=class{map(a,b){const c=this.get,d=this.set;return new __c.q1(()=>a(c()),e=>d(b(e)))}project({get:a,set:b}){const c=this.get,d=this.set;return new __c.q1(()=>a(c()),e=>d(b(c(),e)))}constructor(a,b){this.get=a;this.set=b}};
Tcc=class{read(a){return G0(a)?a():a}computed(a){const b=O0(a);return()=>b.get()}map(a,b){return G0(a)?()=>b(a()):b(a)}box(a){return new ndc(G0(a)?new mdc(O0(a)):new ldc(a))}list(a){const b=this.map(a,c=>new __c.H$a(new N0(c.map(d=>G0(d)?O0(d):qcc(d)))));return G0(b)?__c.se(()=>b()):b}constructor(){this.classes=Bcc()}};
vcc=a=>{const b=a.lp,c=a.ue,d=c.U,e=c.attributes;rcc(a.args,d,e);return{create:function(f,g){const h={};var k;const l=g?.U;g=g?.attributes;if(l)for(const [m,n]of Object.entries(l))u(m in d,"unknown override: '{}'",m),G0(n)?(k||(k={}))[m]=n:h[m]=Oec(n);if(g)for(const [m,n]of Object.entries(g))u(m in e,"unknown override: '{}'",m),h[m]=n instanceof __c.q1?n:G0(n)?{enumerable:!0,get:n,set:H0}:Pec(n);if(k)return scc(k,ucc(m=>{const n=b(f);Object.defineProperties(n,{...h,...le(m,Oec)});return n}));k=b(f);
Object.defineProperties(k,h);return k}}};H0=()=>{};Oec=a=>({enumerable:!0,writable:!1,value:a});Pec=a=>({enumerable:!0,get:()=>a,set:H0});var I0={top:void 0,left:void 0,width:void 0,height:void 0,rotation:void 0,locked:void 0,Yi:void 0};var r1=new Map,s1=[],K0=Object.freeze({Ll:void 0,image:void 0,video:void 0,Pa:void 0,color:void 0,xa:0,locked:!0,lg:!0,Nk:void 0,Wc:void 0,K:void 0,transition:void 0,flipX:!1,flipY:!1}),ycc=Object.freeze({fill:K0,stroke:void 0,N:0}),xcc=Object.freeze({weight:0,color:"#000000",fill:K0,Oc:s1,re:!1}),t1=Object.freeze({top:0,left:0,width:0,height:0,rotation:0,xa:0,Si:void 0,fa:void 0,K:void 0,transition:void 0,oa:s1,Rb:s1,animation:void 0,Hf:void 0,link:void 0,locked:!0,Yi:void 0,lg:!0,Nk:void 0,Ta:void 0,
Hr:void 0,Af:s1,WE:r1,GB:r1,anchor:void 0,Zg:r1}),L0=Object.freeze({...t1,type:"rect",fill:K0,stroke:void 0,N:s1}),M0=Object.freeze({...t1,type:"shape",slice:void 0,Fj:void 0,sb:s1,resizeMode:void 0}),zcc=Object.freeze({...t1,type:"text",text:__c.Lk.Kx("\n"),Ha:Object.freeze({ib:[]}),Se:void 0,placeholder:void 0,Lf:1,writingMode:void 0,J:void 0,P:void 0,fo:!1,Rz:void 0,yh:void 0,Wc:void 0}),Acc=Object.freeze({...t1,type:"embed"});var Rcc=class{t4(a,b){const c=__c.Nh(a);__c.x(c.type!=="body","Unexpected body context.");switch(c.type){case "fixed-page":return{page:this.ik.cYa(c),O:new u1(a),Nl:a.G.id,se:b};case "concatenated-fixed-page":return{page:this.ik.TXa(c),O:new u1(a),Nl:a.G.id,se:b};case "responsive-page":return{page:this.ik.rYa(c),O:new u1(a),Nl:a.G.id,se:b};default:throw new E(c);}}constructor(a,b){this.zna=a;u(b.Sf==="fixed","Responsive documents are not supported in widget rendering.");this.ob=__c.Sh(b);this.ik=
new Qec(this.zna,this.ob)}},u1=class{get width(){return this.container.type==="controlled-item"?this.container.G.Ne?.width||0:this.container.G.J}get height(){return this.container.type==="controlled-item"?this.container.G.Ne?.height||0:this.container.G.P}constructor(a){this.container=a}},v1=class{getIndex(){return this.HL(this.page)}get id(){return this.page.G.id}get title(){return this.page.G.title}get anchor(){return this.page.G.anchor}get lxb(){return this.page.G.eg}constructor(a,b){this.page=
a;this.HL=b}},Rec=class extends v1{constructor(a,b,c){super(a,b);this.page=a;this.container=c;this.type="fixed"}},Sec=class extends v1{constructor(a,b,c){super(a,b);this.page=a;this.container=c;this.type="concatenated-fixed"}},Tec=class extends v1{constructor(a,b,c){super(a,b);this.page=a;this.container=c;this.type="responsive"}},Uec=class{get id(){return this.zna?.id}get extension(){return this.zna?.extension}get language(){return this.ob.G.language}constructor(a,b){this.zna=a;this.ob=b}},Qec=class extends Uec{static D(a){M(a,
{Z:O0({equals:rdc.shallow}),y3a:O0({equals:rdc.shallow})})}get Z(){return this.ob.G.Z.map(a=>this.Ztb(this.ob.Re(a)))}get y3a(){return this.ob.G.Z.toArray()}constructor(a,b){super(a,b);this.rn=a;this.ob=b;this.type=(Qec.D(this),"fixed");this.cYa=W0(c=>new Rec(c,this.HL,this));this.TXa=W0(c=>new Sec(c,this.HL,this));this.rYa=W0(c=>new Tec(c,this.HL,this));this.Ztb=W0(c=>{switch(c.type){case "fixed-page":return this.cYa(c);case "concatenated-fixed-page":return this.TXa(c);case "responsive-page":return this.rYa(c);
default:throw new E(c);}});this.HL=W0(c=>{c=this.ob.G.Z.has(c.G)?c.G:void 0;return c!=null?this.y3a.indexOf(c):-1})}};var Vec=class{constructor(a){this.GHa=a;this.uTa=new Map}};var Pcc=class{add(a,b){let c=this.store.get(a);c||(c=Z0.set(void 0,{deep:!1}),this.store.set(a,c));c.add(b)}get(a){return this.store.get(a)}remove(a,b){const c=this.store.get(a);c&&(c.delete(b),c.size===0&&this.store.delete(a))}constructor(){this.store=new __c.dA}};var Hcc=class{Pc(a){let b=this.store.get(a);b==null&&(b=this.Jnb(),this.store.set(a,b));return b}constructor(a){this.Jnb=a;this.store=new WeakMap}};var abc=new Set,bbc={Ix:()=>({La:Cdc})},Scc=class{static D(a){M(a,{B_:Z0.shallow})}rha(a){return this.B_.get(a)?.G}constructor(a,b,c,d,e,f,g,h){this.ob=a;this.GHa=b;this.Q0=c;this.Yva=d;this.I=e;this.iPb=f;this.We=g;this.iqb=h;this.B_=(Scc.D(this),new Map)}},Mcc=(a,b)=>({...a,uca:c=>I_(a.uca,{...c,glb:b||!1})}),Ncc=(a,b)=>({...a,cj:c=>I_(a.cj,{...c,scale:b||1})});var Wec=class{static D(a){M(a,{I$:Z0.shallow})}constructor(a){this.qTa=a;this.I$=(Wec.D(this),new Map)}};var Xec=class extends odc{render(){const {children:a,component:b="div",iGb:c,Bla:d}=this.props;let e={};d&&(e=c.reduce((f,g)=>{f[g]=this.Lib;return f},{}));return I_(b,{className:"_kI3Pw",...e,children:a})}componentDidMount(){this.props.Bla&&adc(this)}componentDidUpdate(){this.props.Bla&&adc(this)}componentWillUnmount(){this.eP&&(this.eP(),this.eP=null)}constructor(...a){super(...a);this.Asa=this.eP=null;this.Lib=b=>{this.Asa=b.nativeEvent};this.ZOa=b=>{const c=this.props.Bla,d=this.Asa===b;c&&!d&&
c(b);this.Asa=null}}};var ddc=a=>I_(Xec,{iGb:["onMouseDown","onTouchStart"],Dpb:["mousedown","touchstart"],Bla:a.m9,children:a.children});var bdc=class{static D(a){M(a,{Bi:Z0.ref})}constructor(){this.Bi=(bdc.D(this),!0)}},cdc=class{static D(a){M(a,{onDoubleClick:$0.bound,onTouchEnd:$0.bound,reset:$0.bound})}onDoubleClick(){this.store.Bi=!1}onTouchEnd(a){a.touches.length>0||(this.nU?(window.clearTimeout(this.nU),this.nU=void 0,this.store.Bi=!1):this.nU=window.setTimeout(()=>this.nU=void 0,300))}reset(){this.store.Bi=!0}BW(){this.nU&&window.clearTimeout(this.nU)}constructor(a){this.store=a;this.nU=(cdc.D(this),void 0)}};__c.DZa={Hwb:function({document:a,ik:b,Vy:c,PC:d,rG:e,og:f,Fga:g,Ra:h,hf:k,Xe:l,Uf:m,se:n,Nga:p,vD:q,nPb:r,b9a:t,G7a:v,Xha:w}){const z=f.VL;var A=f.I;const C=f.lf,B=f.ga,D=f.RVa,J=f.Sa;var L=g.qp;const {Nxa:N=!1,$xa:O=!1,Vxa:S=!1}=r??{},{zo:U,Yva:V}={zo:Ecc(),Yva:Hec};r=new Wec(mcc(U));const {VMa:Z,Nqa:ca,gwa:ja,Q0:oa}={VMa:r,Nqa:r,gwa:V,Q0:U};p=Uac({VMa:Z,Nxa:N,Nga:p,$xa:O,Vxa:S});r=new Vec(ca);const {UMa:ra,qfb:na}={UMa:r,qfb:r};r=$ac({WMa:p,UMa:ra});A=A.Vf("widget");L=edc({qp:L,Sa:J});const Ha=
idc();l=jdc({Xe:l});m=fdc({dj:m});const ba=hdc({Ra:h,Xha:w});w=kdc({Ra:h,Xha:w});const {dca:la,iC:sa,expr:wa}=Ucc({I:A,Nqa:ca,mPb:{uca:L,XQb:Ha,cj:l,On:m,xca:ba,Wra:w},jPb:{cj:Ycc()},gwa:ja,Q0:oa,rn:b,ob:a,b9a:t,G7a:v});a=pac({se:n,qp:g.qp,zq:g.zq,Sa:f.Sa,I:f.I.Vf("codelet")});f=qac({se:n,qp:g.qp,zq:g.zq,Sa:f.Sa,I:f.I.Vf("codelet2")});c=ibc({WMa:p,dca:la,lf:C,aQ:{I:A,ga:B,hf:n===30?k:void 0,Sa:J,expr:wa},oi:{Vy:c,rG:e,PC:d,RVa:D,Ra:h,ira:a,jra:f,vD:q,VL:z}});return{Nqa:ca,iC:sa,$bc:c,Ybc:r,qfb:na}}};
}).call(self, self._5f74ec40302898c5a55451c9fbd04240);}

}])
//# sourceMappingURL=sourcemaps/b87580a512d87b87.js.map