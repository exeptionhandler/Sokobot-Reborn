(self["webpackChunk_canva_web"] = self["webpackChunk_canva_web"] || []).push([[48581],{

/***/ 76014:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);self._5f74ec40302898c5a55451c9fbd04240 = self._5f74ec40302898c5a55451c9fbd04240 || {};(function(__c) {var Plc,Qlc,Rlc,Tlc,Slc,Ulc,Wlc,Vlc,Xlc,Ylc,u3,$lc,amc;Plc=function(a,b,c){var d=(void 0).jzb;const {AI:e,Z5a:f}=__c.Ju(a,b,c);a=e(d,{ada:!1});return a.result!=="success"?{success:!1,value:d}:{success:!0,value:__c.AHa(a.WK,f,__c.qz)}};
Qlc=function(a,b){a=__c.zu(a);switch(a.type){case 0:var c=a.pj+(a.eF?0:(void 0).LM);const d=a.fj+(a.XC?0:(void 0).b9);return c<0||d<0||c>=b.layout.rows.count()||d>=b.layout.cols.count()?"#REF!":[a.XC?"$":"",__c.yu(d),a.eF?"$":"",String(c+1)].join("");case 1:return c=a.fj+(a.XC?0:(void 0).b9),0<=c&&c<b.layout.cols.count()?`${a.XC?"$":""}${__c.yu(c)}`:"#REF!";case 2:return c=a.pj+(a.eF?0:(void 0).LM),0<=c&&c<b.layout.rows.count()?`${a.eF?"$":""}${String(c+1)}`:"#REF!";case 3:return a.name;default:throw new __c.E(a);
}};Rlc=function({data:a,url:b}){try{const c=JSON.stringify(a,void 0,2);return{extra:new Map([["spans",c.slice(0,15500)],["url",b]]),tags:new Map([["telemetry.export.beacon.over_64_kB",String(c.length>64E3)]])}}catch{return{tags:new Map([["telemetry.error.serialisation_error","true"]])}}};Tlc=function(a,b){Slc(a,b,()=>{const c=a.vea.get(b.spanContext().spanId)||[];for(const d of c)Tlc(a,d)})};
Slc=function(a,b,c){var d=b.attrs.get("parent_relative_start_ms")??b.duration,e=typeof d==="number"?` - ${Math.round(d)}ms`:"",f=(d=b.parentSpanId!=null)?`${b.Hw==="event"?"[ChildEvent]":"[ChildSpan]"}: `:"[OpenTelemetryClient]: ";const g=__c.NH(b)?"User Operation - ":"";e=`${f}${g}${b.name}${e}`;d&&!a.XCa.has(b.parentSpanId)?console.group(e):console.groupCollapsed(e);console.groupCollapsed("Attributes");d={name:b.name,I$b:`${b.duration}ms`,...Object.fromEntries(b.attrs.entries())};e={};for(const h of Object.keys(d))f=
d[h],e[h]=f instanceof Object?JSON.stringify(f):f;console.table(e);console.groupEnd();c?.();console.groupEnd();a.XCa.add(b.spanContext().spanId)};Ulc=function(a){switch(a){case "unset":return 0;case "ok":return 1;case "error":return 2;default:return 0}};Wlc=function(a){const b=[];for(const [c,d]of a.entries())d!=null&&b.push({key:c,value:Vlc(d)});return b};
Vlc=function(a){const b=typeof a;return b==="string"?{stringValue:a}:b==="number"?Number.isInteger(a)?{intValue:a}:{doubleValue:a}:b==="boolean"?{boolValue:a}:a instanceof Uint8Array?{bytesValue:a}:Array.isArray(a)?{arrayValue:{values:a.map(Vlc)}}:b==="object"&&a!=null?{kvlistValue:{values:Object.entries(a).map(([c,d])=>({key:c,value:Vlc(d)}))}}:{}};Xlc=function(a){const b=new Map;for(const c of a)a=b.get(c.aw),a||(a=[],b.set(c.aw,a)),a.push(c);return b};
Ylc=function(a,b){b=b(a)/1E3;a=Math.trunc(b);b=Number((b-a).toFixed(9))*1E9;let [c,d]=[a,b];d>1E9&&(d-=1E9,c+=1);return c*1E9+d};
__c.Zlc=function(a,b){if(a.length===0)return{resourceSpans:[]};const c=[];a=Xlc(a);for(const [d,e]of a)if(e.length>0){a={attributes:Wlc(e[0].Xx),droppedAttributesCount:0};const f=[{scope:{name:d},spans:e.map(g=>{var h=g.spanContext();const k=Ylc(g.startTime,b),l=Ylc(g.endTime??g.startTime,b);var m=g.attrs;if(g.Hw==="event"){var n=g.attrs.get("parent_start");n!=null&&typeof n==="number"&&(m=new Map([...m.entries(),["parent_start",Ylc(n,b)]]))}n=h.traceId;h=h.spanId;var p=g.parentSpanId,q=g.name;m=
Wlc(m);var r={code:Ulc(g.status)};g=g.links;const t=[];for(const v of g)t.push({spanId:v.Qcb.spanId,traceId:v.Qcb.traceId,droppedAttributesCount:0});return{traceId:n,spanId:h,parentSpanId:p,name:q,kind:3,startTimeUnixNano:k,endTimeUnixNano:l,attributes:m,droppedAttributesCount:0,events:[],droppedEventsCount:0,status:r,links:t,droppedLinksCount:0}})}];c.push({resource:a,scopeSpans:f})}return{resourceSpans:c}};u3=function(a,b){a.$6a.unshift(b);return a};
$lc=function(a,b,c,d=!1){b.aborted||d||!b.RH()||(c.push(b),b.RP.forEach(e=>c.push(e)));for(const e of b.AW)$lc(a,e,c,d||b.aborted);b.wf=void 0;b.AW.length=0};amc=function(a,b){a.v4a.push(b)};__c.$H.prototype.O5=__c.da(22,async function(){for(const a of this.Mo)a&&await __c.A6a(this,a);this.Mo=[]});
__c.vz.prototype.V2=__c.da(17,function(a){var b=Plc(this.Ng.zL,this.Ng.xO,this.Ng.sL);if(b.success){b=this.AI(b.value);__c.Dt(b.result==="success");var c=__c.YHa(b.WK,d=>{switch(d.type){case 0:return Qlc(d.text,a);case 1:const [e,f]=d.text.split(":").map(h=>h.trim());d=Qlc(e,a);const g=Qlc(f,a);return d==="#REF!"||g==="#REF!"?"#REF!":[d,g].join(":");default:throw new __c.E(d);}});b=this.AI(c);__c.Dt(b.result==="success");return{type:1,jzb:__c.BHa(c,this.Ng.zL)}}});
var v3=class extends Error{constructor(a,b){super(a);this.da=b;this.name="TelemetryExportError";Object.setPrototypeOf(this,v3.prototype)}},bmc=class extends __c.zc{constructor(a,b,c){super(a,b);this.da=c;this.name="SampledTracingExportError";Object.setPrototypeOf(this,bmc.prototype)}};var cmc=({navigator:a,url:b})=>c=>{var d=JSON.stringify(c);d=new Blob([d],{type:"application/json"});try{if(!a.sendBeacon(b,d))throw new v3("createSendWithBeacon: Failed to enqueue spans in Beacon",Rlc({data:c,url:b}));}catch(e){throw new v3(e instanceof Error?e.message:String(e),e instanceof v3?e.da:Rlc({data:c,url:b}));}};var dmc=({mLb:a,url:b,errorSampleRate:c,fetch:d=self.fetch})=>async e=>{e=new Request(b,{method:"POST",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json"},priority:"low",signal:AbortSignal.timeout?.(a)});try{var f=await d(e);if(f.status>299||f.status<200)throw c!=null?new bmc(`SendWithFetch: Failed to export (status: ${f.status})`,c):new v3(`SendWithFetch: Failed to export (status: ${f.status})`);}catch(g){throw f=g instanceof Error&&g.name==="AbortError"?
`SendWithFetch: Fetch request timeout: ${a}ms`:"SendWithFetch: Failed to export",c!=null?new bmc(f,c):new v3(f);}};var emc=class{CWa(a){var b=[];for(const c of a)c.parentSpanId&&!this.XCa.has(c.parentSpanId)?(a=this.vea.get(c.parentSpanId)||[],a.push(c),this.vea.set(c.parentSpanId,a)):b.push(c);for(const c of b)b=c.spanContext().spanId,Tlc(this,c),this.vea.delete(b)}async flush(){}constructor(){this.vea=new Map;this.XCa=new Set}};var gmc=class{async CWa(a){if(a.length!==0)if(this.Uea.size<this.Cva){try{this.Jba.qW();var b=__c.Zlc(a,c=>this.Jba.V2(c))}catch(c){this.I.Lb(c,{Oe:"OTLPSpanAdapter: Unable to convert spans",extra:new Map(__c.SH(a))});return}try{const c=this.send(b);this.Uea.add(c);c.catch(d=>{this.I.Lb(d)}).finally(()=>{this.Uea.delete(c)})}catch(c){this.I.Lb(c)}}else this.I.Lb(new v3("OTLPExporter: Concurrency Limit Reached"))}async flush(){await Promise.all(this.Uea)}constructor(a,b,c){var d=new __c.fmc;this.config=
a;this.I=b;this.Jba=d;this.send=c;this.Uea=new Set;this.Cva=a.Cva??Infinity}};var hmc=class{static create(){return new hmc}build(a){return this.$6a.reduce((b,c)=>c(b),{Fs:()=>{},process:b=>a.CWa(b),flush:()=>a.flush()})}constructor(){this.$6a=[]}};var imc=class{Fs(){}process(a){for(const b of a)b.RH()&&(this.buffer.push(b),this.buffer.length>=this.config.Aka&&this.O5());this.buffer.length>0&&this.timer==null&&(this.timer=setTimeout(()=>this.O5(),this.config.Bka))}async flush(){this.O5();await this.Xl.flush()}O5(){try{this.Xl.process(this.buffer)}catch(a){this.I.Lb(a,{Oe:`Failed to export the span buffer from ${imc.name}`,extra:new Map([...__c.SH(this.buffer),["maxBatchSize",this.config.Aka],["maxBatchingTimeMs",this.config.Bka]])})}this.buffer=
[];this.timer!=null&&clearTimeout(this.timer);this.timer=void 0}constructor(a,b,c){this.Xl=a;this.config=b;this.I=c;this.buffer=[]}};var kmc=class{Fs(a){const b=a.spanContext().traceId,c=this.Rpa.get(b);c!=null?(c.vI+=1,a.wf===void 0&&(c.root=a)):this.Rpa.set(b,{vI:1,root:a});this.Xl.Fs(a)}process(a){for(const c of a){a=c.spanContext().traceId;var b=this.Rpa.get(a);b!=null&&(--b.vI,b.vI===0&&(b=this.kGb.process(b),this.Xl.process(b),this.Rpa.delete(a)))}}flush(){return this.Xl.flush()}constructor(a){var b=new jmc;this.Xl=a;this.kGb=b;this.Rpa=new Map}},jmc=class{process(a){const b=[];$lc(this,a.root,b);return b}};__c.fmc=class{V2(a){return this.Mdb+(a-this.o6a)}qW(){var a=Date.now(),b=performance.now();Math.abs(this.V2(b)-a)<this.threshold||(this.Mdb=a,this.o6a=b)}constructor(){var a=Date.now(),b=performance.now();this.Mdb=a;this.o6a=b;this.threshold=1E4}};var lmc;
lmc=class{Kka(){this.isInitialized||typeof document==="undefined"||typeof window==="undefined"||(this.isVisible=document.visibilityState==="visible",this.cJa(),this.isInitialized=!0)}cJa(){window.addEventListener("pagehide",()=>{this.XS()});document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"?this.XS():document.visibilityState!=="visible"||this.isVisible||document.visibilityState!=="visible"||(this.isVisible=!0)})}XS(){this.isVisible&&(this.isVisible=!1,this.v4a.forEach(a=>a()))}constructor(){this.isVisible=
!0;this.v4a=[];this.isInitialized=!1;this.Kka()}};
__c.W6a={Awb:async function({bootstrap:a,I:b}){const c=hmc.create();if(a.Arb){const [{Ngb:h},{Ira:k}]=await Promise.all([__webpack_require__.me(752239).then(()=>__c.mmc),__webpack_require__.me(615633).then(()=>__c.Olc)]);u3(u3(c,l=>new k(b,l)),l=>new h(b,l))}else if(a.Ef==="CONSOLE"){const {Ira:h}=await __webpack_require__.me(615633).then(()=>({Ira:__c.Nlc}));u3(c,k=>new h(b,k))}u3(c,h=>new kmc(h));if(a.Ef==="CONSOLE")return c.build(new emc);const d=cmc({url:a.endpoint,navigator}),e=dmc({url:a.endpoint,
mLb:3E4,errorSampleRate:.001,fetch:self.fetch}),f=new lmc,g=u3(c,h=>new imc(h,{Aka:a.Aka??60,Bka:a.Bka??3E3},b)).build(new gmc({url:a.endpoint,Cva:a.xrb??20},b,async h=>{f.Kka();if(f.isVisible)return e(h);try{d(h)}catch(k){return k instanceof v3?b.TJ(new __c.zc(k.message,.001),k.da):b.Lb(k),e(h)}}));amc(f,()=>{g.flush()});return g}};
}).call(self, self._5f74ec40302898c5a55451c9fbd04240);}

}])
//# sourceMappingURL=sourcemaps/762d6e7c1ab5c93e.js.map